var visioRichTextEditor;!function(){var t={2206:function(t){var e;self,e=()=>(()=>{var t={6996:(t,e,r)=>{"use strict";var n=r(9976),o=r(9536),i=o(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&i(t,".prototype.")>-1?o(r):r}},9536:(t,e,r)=>{"use strict";var n=r(3592),o=r(9976),i=r(2544),a=r(3704),l=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),c=o("%Reflect.apply%",!0)||n.call(s,l),u=r(496),f=o("%Math.max%");t.exports=function(t){if("function"!=typeof t)throw new a("a function is required");var e=c(n,s,arguments);return i(e,1+f(0,t.length-(arguments.length-1)),!0)};var p=function(){return c(n,l,arguments)};u?u(t.exports,"apply",{value:p}):t.exports.apply=p},3520:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}t=r.nmd(t);var o=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,r,o;try{e=Map}catch(t){e=function(){}}try{r=Set}catch(t){r=function(){}}try{o=Promise}catch(t){o=function(){}}function i(a,s,c,u,f){"object"===n(s)&&(c=s.depth,u=s.prototype,f=s.includeNonEnumerable,s=s.circular);var p=[],h=[],d="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===c&&(c=1/0),function a(c,y){if(null===c)return null;if(0===y)return c;var m,b;if("object"!=n(c))return c;if(t(c,e))m=new e;else if(t(c,r))m=new r;else if(t(c,o))m=new o((function(t,e){c.then((function(e){t(a(e,y-1))}),(function(t){e(a(t,y-1))}))}));else if(i.__isArray(c))m=[];else if(i.__isRegExp(c))m=new RegExp(c.source,l(c)),c.lastIndex&&(m.lastIndex=c.lastIndex);else if(i.__isDate(c))m=new Date(c.getTime());else{if(d&&Buffer.isBuffer(c))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(c.length):new Buffer(c.length),c.copy(m),m;t(c,Error)?m=Object.create(c):void 0===u?(b=Object.getPrototypeOf(c),m=Object.create(b)):(m=Object.create(u),b=u)}if(s){var g=p.indexOf(c);if(-1!=g)return h[g];p.push(c),h.push(m)}for(var v in t(c,e)&&c.forEach((function(t,e){var r=a(e,y-1),n=a(t,y-1);m.set(r,n)})),t(c,r)&&c.forEach((function(t){var e=a(t,y-1);m.add(e)})),c){var _;b&&(_=Object.getOwnPropertyDescriptor(b,v)),_&&null==_.set||(m[v]=a(c[v],y-1))}if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(c);for(v=0;v<O.length;v++){var S=O[v];(!(w=Object.getOwnPropertyDescriptor(c,S))||w.enumerable||f)&&(m[S]=a(c[S],y-1),w.enumerable||Object.defineProperty(m,S,{enumerable:!1}))}}if(f){var E=Object.getOwnPropertyNames(c);for(v=0;v<E.length;v++){var w,T=E[v];(w=Object.getOwnPropertyDescriptor(c,T))&&w.enumerable||(m[T]=a(c[T],y-1),Object.defineProperty(m,T,{enumerable:!1}))}}return m}(a,c)}function a(t){return Object.prototype.toString.call(t)}function l(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return i.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},i.__objToStr=a,i.__isDate=function(t){return"object"===n(t)&&"[object Date]"===a(t)},i.__isArray=function(t){return"object"===n(t)&&"[object Array]"===a(t)},i.__isRegExp=function(t){return"object"===n(t)&&"[object RegExp]"===a(t)},i.__getRegExpFlags=l,i}();"object"===n(t)&&t.exports&&(t.exports=o)},888:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(9688),i=r(700),a=r(5768),l=r(3148),s=r(1544),c=r(4088),u=Date.prototype.getTime;function f(t){return null==t}function p(t){return!(!t||"object"!==n(t)||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}t.exports=function t(e,r,h){var d=h||{};return!!(d.strict?a(e,r):e===r)||(!e||!r||"object"!==n(e)&&"object"!==n(r)?d.strict?a(e,r):e==r:function(e,r,a){var h,d;if(n(e)!==n(r))return!1;if(f(e)||f(r))return!1;if(e.prototype!==r.prototype)return!1;if(i(e)!==i(r))return!1;var y=l(e),m=l(r);if(y!==m)return!1;if(y||m)return e.source===r.source&&s(e)===s(r);if(window["6ff612ab-3392-44a5-86ac-d2d82005ae77-deep-equal-patch"]){if(Object.prototype.toString.call(e)===Object.prototype.toString.call(r)==="[object Date]")return+e==+r}else if(c(e)&&c(r))return u.call(e)===u.call(r);var b=p(e),g=p(r);if(b!==g)return!1;if(b||g){if(e.length!==r.length)return!1;for(h=0;h<e.length;h++)if(e[h]!==r[h])return!1;return!0}if(n(e)!==n(r))return!1;try{var v=o(e),_=o(r)}catch(t){return!1}if(v.length!==_.length)return!1;for(v.sort(),_.sort(),h=v.length-1;h>=0;h--)if(v[h]!=_[h])return!1;for(h=v.length-1;h>=0;h--)if(!t(e[d=v[h]],r[d],a))return!1;return!0}(e,r,d))}},9549:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(496),i=r(6772),a=r(3704),l=r(3877);t.exports=function(t,e,r){if(!t||"object"!==n(t)&&"function"!=typeof t)throw new a("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!==n(e))throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,f=arguments.length>6&&arguments[6],p=!!l&&l(t,e);if(o)o(t,e,{configurable:null===u&&p?p.configurable:!u,enumerable:null===s&&p?p.enumerable:!s,value:r,writable:null===c&&p?p.writable:!c});else{if(!f&&(s||c||u))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=r}}},9464:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(9688),i="function"==typeof Symbol&&"symbol"===n(Symbol("foo")),a=Object.prototype.toString,l=Array.prototype.concat,s=r(9549),c=r(5767)(),u=function(t,e,r,n){if(e in t)if(!0===n){if(t[e]===r)return}else if("function"!=typeof(o=n)||"[object Function]"!==a.call(o)||!n())return;var o;c?s(t,e,r,!0):s(t,e,r)},f=function(t,e){var r=arguments.length>2?arguments[2]:{},n=o(e);i&&(n=l.call(n,Object.getOwnPropertySymbols(e)));for(var a=0;a<n.length;a+=1)u(t,n[a],e[n[a]],r[n[a]])};f.supportsDescriptors=!!c,t.exports=f},496:(t,e,r)=>{"use strict";var n=r(9976)("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch(t){n=!1}t.exports=n},6469:t=>{"use strict";t.exports=EvalError},3552:t=>{"use strict";t.exports=Error},2368:t=>{"use strict";t.exports=RangeError},2668:t=>{"use strict";t.exports=ReferenceError},6772:t=>{"use strict";t.exports=SyntaxError},3704:t=>{"use strict";t.exports=TypeError},2904:t=>{"use strict";t.exports=URIError},8208:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function o(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function i(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),i.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},i.prototype.listeners=function(t,e){var n=r?r+t:t,o=this._events[n];if(e)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var i=0,a=o.length,l=new Array(a);i<a;i++)l[i]=o[i].fn;return l},i.prototype.emit=function(t,e,n,o,i,a){var l=r?r+t:t;if(!this._events[l])return!1;var s,c,u=this._events[l],f=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),f){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,o),!0;case 5:return u.fn.call(u.context,e,n,o,i),!0;case 6:return u.fn.call(u.context,e,n,o,i,a),!0}for(c=1,s=new Array(f-1);c<f;c++)s[c-1]=arguments[c];u.fn.apply(u.context,s)}else{var p,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),f){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;case 4:u[c].fn.call(u[c].context,e,n,o);break;default:if(!s)for(p=1,s=new Array(f-1);p<f;p++)s[p-1]=arguments[p];u[c].fn.apply(u[c].context,s)}}return!0},i.prototype.on=function(t,e,n){var i=new o(e,n||this),a=r?r+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],i]:this._events[a].push(i):(this._events[a]=i,this._eventsCount++),this},i.prototype.once=function(t,e,n){var i=new o(e,n||this,!0),a=r?r+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],i]:this._events[a].push(i):(this._events[a]=i,this._eventsCount++),this},i.prototype.removeListener=function(t,e,o,i){var a=r?r+t:t;if(!this._events[a])return this;if(!e)return 0==--this._eventsCount?this._events=new n:delete this._events[a],this;var l=this._events[a];if(l.fn)l.fn!==e||i&&!l.once||o&&l.context!==o||(0==--this._eventsCount?this._events=new n:delete this._events[a]);else{for(var s=0,c=[],u=l.length;s<u;s++)(l[s].fn!==e||i&&!l[s].once||o&&l[s].context!==o)&&c.push(l[s]);c.length?this._events[a]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new n:delete this._events[a]}return this},i.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new n:delete this._events[e])):(this._events=new n,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=r,i.EventEmitter=i,t.exports=i},136:t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===n.call(t)},l=function(t){if(!t||"[object Object]"!==n.call(t))return!1;var e,o=r.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!o&&!i)return!1;for(e in t);return void 0===e||r.call(t,e)},s=function(t,e){o&&"__proto__"===e.name?o(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},c=function(t,e){if("__proto__"===e){if(!r.call(t,e))return;if(i)return i(t,e).value}return t[e]};t.exports=function t(){var r,n,o,i,u,f,p=arguments[0],h=1,d=arguments.length,y=!1;for("boolean"==typeof p&&(y=p,p=arguments[1]||{},h=2),(null==p||"object"!==e(p)&&"function"!=typeof p)&&(p={});h<d;++h)if(null!=(r=arguments[h]))for(n in r)o=c(p,n),p!==(i=c(r,n))&&(y&&i&&(l(i)||(u=a(i)))?(u?(u=!1,f=o&&a(o)?o:[]):f=o&&l(o)?o:{},s(p,{name:n,newValue:t(y,f,i)})):void 0!==i&&s(p,{name:n,newValue:i}));return p}},8612:t=>{var e=-1,r=1,n=0;function o(t,c,f){if(t==c)return t?[[n,t]]:[];(f<0||t.length<f)&&(f=null);var p=a(t,c),h=t.substring(0,p);p=l(t=t.substring(p),c=c.substring(p));var d=t.substring(t.length-p),y=function(t,s){var c;if(!t)return[[r,s]];if(!s)return[[e,t]];var u=t.length>s.length?t:s,f=t.length>s.length?s:t,p=u.indexOf(f);if(-1!=p)return c=[[r,u.substring(0,p)],[n,f],[r,u.substring(p+f.length)]],t.length>s.length&&(c[0][0]=c[2][0]=e),c;if(1==f.length)return[[e,t],[r,s]];var h=function(t,e){var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||2*n.length<r.length)return null;function o(t,e,r){for(var n,o,i,s,c=t.substring(r,r+Math.floor(t.length/4)),u=-1,f="";-1!=(u=e.indexOf(c,u+1));){var p=a(t.substring(r),e.substring(u)),h=l(t.substring(0,r),e.substring(0,u));f.length<h+p&&(f=e.substring(u-h,u)+e.substring(u,u+p),n=t.substring(0,r-h),o=t.substring(r+p),i=e.substring(0,u-h),s=e.substring(u+p))}return 2*f.length>=t.length?[n,o,i,s,f]:null}var i,s,c,u,f,p=o(r,n,Math.ceil(r.length/4)),h=o(r,n,Math.ceil(r.length/2));return p||h?(i=h?p&&p[4].length>h[4].length?p:h:p,t.length>e.length?(s=i[0],c=i[1],u=i[2],f=i[3]):(u=i[0],f=i[1],s=i[2],c=i[3]),[s,c,u,f,i[4]]):null}(t,s);if(h){var d=h[0],y=h[1],m=h[2],b=h[3],g=h[4],v=o(d,m),_=o(y,b);return v.concat([[n,g]],_)}return function(t,n){for(var o=t.length,a=n.length,l=Math.ceil((o+a)/2),s=l,c=2*l,u=new Array(c),f=new Array(c),p=0;p<c;p++)u[p]=-1,f[p]=-1;u[s+1]=0,f[s+1]=0;for(var h=o-a,d=h%2!=0,y=0,m=0,b=0,g=0,v=0;v<l;v++){for(var _=-v+y;_<=v-m;_+=2){for(var O=s+_,S=(A=_==-v||_!=v&&u[O-1]<u[O+1]?u[O+1]:u[O-1]+1)-_;A<o&&S<a&&t.charAt(A)==n.charAt(S);)A++,S++;if(u[O]=A,A>o)m+=2;else if(S>a)y+=2;else if(d&&(T=s+h-_)>=0&&T<c&&-1!=f[T]&&A>=(w=o-f[T]))return i(t,n,A,S)}for(var E=-v+b;E<=v-g;E+=2){for(var w,T=s+E,x=(w=E==-v||E!=v&&f[T-1]<f[T+1]?f[T+1]:f[T-1]+1)-E;w<o&&x<a&&t.charAt(o-w-1)==n.charAt(a-x-1);)w++,x++;if(f[T]=w,w>o)g+=2;else if(x>a)b+=2;else if(!d){var A;if((O=s+h-E)>=0&&O<c&&-1!=u[O]&&(S=s+(A=u[O])-O,A>=(w=o-w)))return i(t,n,A,S)}}}return[[e,t],[r,n]]}(t,s)}(t=t.substring(0,t.length-p),c=c.substring(0,c.length-p));return h&&y.unshift([n,h]),d&&y.push([n,d]),s(y),null!=f&&(y=function(t,r){var o=function(t,r){if(0===r)return[n,t];for(var o=0,i=0;i<t.length;i++){var a=t[i];if(a[0]===e||a[0]===n){var l=o+a[1].length;if(r===l)return[i+1,t];if(r<l){t=t.slice();var s=r-o,c=[a[0],a[1].slice(0,s)],u=[a[0],a[1].slice(s)];return t.splice(i,1,c,u),[i+1,t]}o=l}}throw new Error("cursor_pos is out of bounds!")}(t,r),i=o[1],a=o[0],l=i[a],s=i[a+1];if(null==l)return t;if(l[0]!==n)return t;if(null!=s&&l[1]+s[1]===s[1]+l[1])return i.splice(a,2,s,l),u(i,a,2);if(null!=s&&0===s[1].indexOf(l[1])){i.splice(a,2,[s[0],l[1]],[0,l[1]]);var c=s[1].slice(l[1].length);return c.length>0&&i.splice(a+2,0,[s[0],c]),u(i,a,3)}return t}(y,f)),function(t){for(var o=!1,i=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},a=2;a<t.length;a+=1)t[a-2][0]===n&&((l=t[a-2][1]).charCodeAt(l.length-1)>=55296&&l.charCodeAt(l.length-1)<=56319)&&t[a-1][0]===e&&i(t[a-1][1])&&t[a][0]===r&&i(t[a][1])&&(o=!0,t[a-1][1]=t[a-2][1].slice(-1)+t[a-1][1],t[a][1]=t[a-2][1].slice(-1)+t[a][1],t[a-2][1]=t[a-2][1].slice(0,-1));var l;if(!o)return t;var s=[];for(a=0;a<t.length;a+=1)t[a][1].length>0&&s.push(t[a]);return s}(y)}function i(t,e,r,n){var i=t.substring(0,r),a=e.substring(0,n),l=t.substring(r),s=e.substring(n),c=o(i,a),u=o(l,s);return c.concat(u)}function a(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),o=n,i=0;r<o;)t.substring(i,o)==e.substring(i,o)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function l(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var r=0,n=Math.min(t.length,e.length),o=n,i=0;r<o;)t.substring(t.length-o,t.length-i)==e.substring(e.length-o,e.length-i)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function s(t){t.push([n,""]);for(var o,i=0,c=0,u=0,f="",p="";i<t.length;)switch(t[i][0]){case r:u++,p+=t[i][1],i++;break;case e:c++,f+=t[i][1],i++;break;case n:c+u>1?(0!==c&&0!==u&&(0!==(o=a(p,f))&&(i-c-u>0&&t[i-c-u-1][0]==n?t[i-c-u-1][1]+=p.substring(0,o):(t.splice(0,0,[n,p.substring(0,o)]),i++),p=p.substring(o),f=f.substring(o)),0!==(o=l(p,f))&&(t[i][1]=p.substring(p.length-o)+t[i][1],p=p.substring(0,p.length-o),f=f.substring(0,f.length-o))),0===c?t.splice(i-u,c+u,[r,p]):0===u?t.splice(i-c,c+u,[e,f]):t.splice(i-c-u,c+u,[e,f],[r,p]),i=i-c-u+(c?1:0)+(u?1:0)+1):0!==i&&t[i-1][0]==n?(t[i-1][1]+=t[i][1],t.splice(i,1)):i++,u=0,c=0,f="",p=""}""===t[t.length-1][1]&&t.pop();var h=!1;for(i=1;i<t.length-1;)t[i-1][0]==n&&t[i+1][0]==n&&(t[i][1].substring(t[i][1].length-t[i-1][1].length)==t[i-1][1]?(t[i][1]=t[i-1][1]+t[i][1].substring(0,t[i][1].length-t[i-1][1].length),t[i+1][1]=t[i-1][1]+t[i+1][1],t.splice(i-1,1),h=!0):t[i][1].substring(0,t[i+1][1].length)==t[i+1][1]&&(t[i-1][1]+=t[i+1][1],t[i][1]=t[i][1].substring(t[i+1][1].length)+t[i+1][1],t.splice(i+1,1),h=!0)),i++;h&&s(t)}var c=o;function u(t,e,r){for(var n=e+r-1;n>=0&&n>=e-1;n--)if(n+1<t.length){var o=t[n],i=t[n+1];o[0]===i[1]&&t.splice(n,2,[o[0],o[1]+i[1]])}return t}c.INSERT=r,c.DELETE=e,c.EQUAL=n,t.exports=c},1912:t=>{"use strict";var e=Object.prototype.toString,r=Math.max,n=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var o=0;o<e.length;o+=1)r[o+t.length]=e[o];return r};t.exports=function(t){var o=this;if("function"!=typeof o||"[object Function]"!==e.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,a=function(t,e){for(var r=[],n=1,o=0;n<t.length;n+=1,o+=1)r[o]=t[n];return r}(arguments),l=r(0,o.length-a.length),s=[],c=0;c<l;c++)s[c]="$"+c;if(i=Function("binder","return function ("+function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=",");return r}(s)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var e=o.apply(this,n(a,arguments));return Object(e)===e?e:this}return o.apply(t,n(a,arguments))})),o.prototype){var u=function(){};u.prototype=o.prototype,i.prototype=new u,u.prototype=null}return i}},3592:(t,e,r)=>{"use strict";var n=r(1912);t.exports=Function.prototype.bind||n},9152:t=>{"use strict";var e=function(){return"string"==typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(t){r=null}e.functionsHaveConfigurableNames=function(){if(!e()||!r)return!1;var t=r((function(){}),"name");return!!t&&!!t.configurable};var n=Function.prototype.bind;e.boundFunctionsHaveNames=function(){return e()&&"function"==typeof n&&""!==function(){}.bind().name},t.exports=e},9976:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o,i=r(3552),a=r(6469),l=r(2368),s=r(2668),c=r(6772),u=r(3704),f=r(2904),p=Function,h=function(t){try{return p('"use strict"; return ('+t+").constructor;")()}catch(t){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(t){d=null}var y=function(){throw new u},m=d?function(){try{return y}catch(t){try{return d(arguments,"callee").get}catch(t){return y}}}():y,b=r(3467)(),g=r(1228)(),v=Object.getPrototypeOf||(g?function(t){return t.__proto__}:null),_={},O="undefined"!=typeof Uint8Array&&v?v(Uint8Array):o,S={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?o:ArrayBuffer,"%ArrayIteratorPrototype%":b&&v?v([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":_,"%AsyncGenerator%":_,"%AsyncGeneratorFunction%":_,"%AsyncIteratorPrototype%":_,"%Atomics%":"undefined"==typeof Atomics?o:Atomics,"%BigInt%":"undefined"==typeof BigInt?o:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?o:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?o:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":a,"%Float32Array%":"undefined"==typeof Float32Array?o:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?o:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?o:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":_,"%Int8Array%":"undefined"==typeof Int8Array?o:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?o:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":b&&v?v(v([][Symbol.iterator]())):o,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":n(JSON))?JSON:o,"%Map%":"undefined"==typeof Map?o:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&b&&v?v((new Map)[Symbol.iterator]()):o,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?o:Promise,"%Proxy%":"undefined"==typeof Proxy?o:Proxy,"%RangeError%":l,"%ReferenceError%":s,"%Reflect%":"undefined"==typeof Reflect?o:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?o:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&b&&v?v((new Set)[Symbol.iterator]()):o,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":b&&v?v(""[Symbol.iterator]()):o,"%Symbol%":b?Symbol:o,"%SyntaxError%":c,"%ThrowTypeError%":m,"%TypedArray%":O,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?o:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?o:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?o:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?o:Uint32Array,"%URIError%":f,"%WeakMap%":"undefined"==typeof WeakMap?o:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?o:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?o:WeakSet};if(v)try{null.error}catch(t){var E=v(v(t));S["%Error.prototype%"]=E}var w=function t(e){var r;if("%AsyncFunction%"===e)r=h("async function () {}");else if("%GeneratorFunction%"===e)r=h("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=h("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&v&&(r=v(o.prototype))}return S[e]=r,r},T={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=r(3592),A=r(6807),N=x.call(Function.call,Array.prototype.concat),C=x.call(Function.apply,Array.prototype.splice),k=x.call(Function.call,String.prototype.replace),P=x.call(Function.call,String.prototype.slice),j=x.call(Function.call,RegExp.prototype.exec),R=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,L=/\\(\\)?/g,I=function(t,e){var r,n=t;if(A(T,n)&&(n="%"+(r=T[n])[0]+"%"),A(S,n)){var o=S[n];if(o===_&&(o=w(n)),void 0===o&&!e)throw new u("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new c("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new u('"allowMissing" argument must be a boolean');if(null===j(/^%?[^%]*%?$/,t))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=P(t,0,1),r=P(t,-1);if("%"===e&&"%"!==r)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new c("invalid intrinsic syntax, expected opening `%`");var n=[];return k(t,R,(function(t,e,r,o){n[n.length]=r?k(o,L,"$1"):e||t})),n}(t),n=r.length>0?r[0]:"",o=I("%"+n+"%",e),i=o.name,a=o.value,l=!1,s=o.alias;s&&(n=s[0],C(r,N([0,1],s)));for(var f=1,p=!0;f<r.length;f+=1){var h=r[f],y=P(h,0,1),m=P(h,-1);if(('"'===y||"'"===y||"`"===y||'"'===m||"'"===m||"`"===m)&&y!==m)throw new c("property names with quotes must have matching quotes");if("constructor"!==h&&p||(l=!0),A(S,i="%"+(n+="."+h)+"%"))a=S[i];else if(null!=a){if(!(h in a)){if(!e)throw new u("base intrinsic for "+t+" exists, but the property is not available.");return}if(d&&f+1>=r.length){var b=d(a,h);a=(p=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:a[h]}else p=A(a,h),a=a[h];p&&!l&&(S[i]=a)}}return a}},3877:(t,e,r)=>{"use strict";var n=r(9976)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(t){n=null}t.exports=n},5767:(t,e,r)=>{"use strict";var n=r(496),o=function(){return!!n};o.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},t.exports=o},1228:t=>{"use strict";var e={__proto__:null,foo:{}},r=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof r)}},3467:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o="undefined"!=typeof Symbol&&Symbol,i=r(9448);t.exports=function(){return"function"==typeof o&&"function"==typeof Symbol&&"symbol"===n(o("foo"))&&"symbol"===n(Symbol("bar"))&&i()}},9448:t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===e(Symbol.iterator))return!0;var t={},r=Symbol("test"),n=Object(r);if("string"==typeof r)return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(r in t[r]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var o=Object.getOwnPropertySymbols(t);if(1!==o.length||o[0]!==r)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,r);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},8824:(t,e,r)=>{"use strict";var n=r(9448);t.exports=function(){return n()&&!!Symbol.toStringTag}},6807:(t,e,r)=>{"use strict";var n=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=r(3592);t.exports=i.call(n,o)},700:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(8824)(),i=r(6996)("Object.prototype.toString"),a=function(t){return!(o&&t&&"object"===n(t)&&Symbol.toStringTag in t)&&"[object Arguments]"===i(t)},l=function(t){return!!a(t)||null!==t&&"object"===n(t)&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i(t)&&"[object Function]"===i(t.callee)},s=function(){return a(arguments)}();a.isLegacyArguments=l,t.exports=s?a:l},4088:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=Date.prototype.getDay,i=Object.prototype.toString,a=r(8824)();t.exports=function(t){return"object"===n(t)&&null!==t&&(a?function(t){try{return o.call(t),!0}catch(t){return!1}}(t):"[object Date]"===i.call(t))}},3148:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o,i,a,l,s=r(6996),c=r(8824)();if(c){o=s("Object.prototype.hasOwnProperty"),i=s("RegExp.prototype.exec"),a={};var u=function(){throw a};l={toString:u,valueOf:u},"symbol"===n(Symbol.toPrimitive)&&(l[Symbol.toPrimitive]=u)}var f=s("Object.prototype.toString"),p=Object.getOwnPropertyDescriptor;t.exports=c?function(t){if(!t||"object"!==n(t))return!1;var e=p(t,"lastIndex");if(!e||!o(e,"value"))return!1;try{i(t,l)}catch(t){return t===a}}:function(t){return!(!t||"object"!==n(t)&&"function"!=typeof t)&&"[object RegExp]"===f(t)}},7596:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,r){return 0===t&&0===r?1/t==1/r:t===r||!(!e(t)||!e(r))}},5768:(t,e,r)=>{"use strict";var n=r(9464),o=r(9536),i=r(7596),a=r(3672),l=r(1224),s=o(a(),Object);n(s,{getPolyfill:a,implementation:i,shim:l}),t.exports=s},3672:(t,e,r)=>{"use strict";var n=r(7596);t.exports=function(){return"function"==typeof Object.is?Object.is:n}},1224:(t,e,r)=>{"use strict";var n=r(3672),o=r(9464);t.exports=function(){var t=n();return o(Object,{is:t},{is:function(){return Object.is!==t}}),t}},240:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,l=r(3376),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(t){var e=t.constructor;return e&&e.prototype===t},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!h["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"===n(window[t]))try{p(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();o=function(t){var e=null!==t&&"object"===n(t),r="[object Function]"===a.call(t),o=l(t),s=e&&"[object String]"===a.call(t),h=[];if(!e&&!r&&!o)throw new TypeError("Object.keys called on a non-object");var y=u&&r;if(s&&t.length>0&&!i.call(t,0))for(var m=0;m<t.length;++m)h.push(String(m));if(o&&t.length>0)for(var b=0;b<t.length;++b)h.push(String(b));else for(var g in t)y&&"prototype"===g||!i.call(t,g)||h.push(String(g));if(c)for(var v=function(t){if("undefined"==typeof window||!d)return p(t);try{return p(t)}catch(t){return!1}}(t),_=0;_<f.length;++_)v&&"constructor"===f[_]||!i.call(t,f[_])||h.push(f[_]);return h}}t.exports=o},9688:(t,e,r)=>{"use strict";var n=Array.prototype.slice,o=r(3376),i=Object.keys,a=i?function(t){return i(t)}:r(240),l=Object.keys;a.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return o(t)?l(n.call(t)):l(t)})}else Object.keys=a;return Object.keys||a},t.exports=a},3376:t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var r=Object.prototype.toString;t.exports=function(t){var n=r.call(t),o="[object Arguments]"===n;return o||(o="[object Array]"!==n&&null!==t&&"object"===e(t)&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===r.call(t.callee)),o}},3292:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(8612),i=r(888),a=r(136),l=r(9772),s=String.fromCharCode(0),c=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};c.prototype.insert=function(t,e){var r={};return 0===t.length?this:(r.insert=t,null!=e&&"object"===n(e)&&Object.keys(e).length>0&&(r.attributes=e),this.push(r))},c.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},c.prototype.retain=function(t,e){if(t<=0)return this;var r={retain:t};return null!=e&&"object"===n(e)&&Object.keys(e).length>0&&(r.attributes=e),this.push(r)},c.prototype.push=function(t){var e=this.ops.length,r=this.ops[e-1];if(t=a(!0,{},t),"object"===n(r)){if("number"==typeof t.delete&&"number"==typeof r.delete)return this.ops[e-1]={delete:r.delete+t.delete},this;if("number"==typeof r.delete&&null!=t.insert&&(e-=1,"object"!==n(r=this.ops[e-1])))return this.ops.unshift(t),this;if(i(t.attributes,r.attributes)){if("string"==typeof t.insert&&"string"==typeof r.insert)return this.ops[e-1]={insert:r.insert+t.insert},"object"===n(t.attributes)&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof r.retain)return this.ops[e-1]={retain:r.retain+t.retain},"object"===n(t.attributes)&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},c.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},c.prototype.filter=function(t){return this.ops.filter(t)},c.prototype.forEach=function(t){this.ops.forEach(t)},c.prototype.map=function(t){return this.ops.map(t)},c.prototype.partition=function(t){var e=[],r=[];return this.forEach((function(n){(t(n)?e:r).push(n)})),[e,r]},c.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},c.prototype.changeLength=function(){return this.reduce((function(t,e){return e.insert?t+l.length(e):e.delete?t-e.delete:t}),0)},c.prototype.length=function(){return this.reduce((function(t,e){return t+l.length(e)}),0)},c.prototype.slice=function(t,e){t=t||0,"number"!=typeof e&&(e=1/0);for(var r=[],n=l.iterator(this.ops),o=0;o<e&&n.hasNext();){var i;o<t?i=n.next(t-o):(i=n.next(e-o),r.push(i)),o+=l.length(i)}return new c(r)},c.prototype.compose=function(t){var e=l.iterator(this.ops),r=l.iterator(t.ops),n=[],o=r.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var a=o.retain;"insert"===e.peekType()&&e.peekLength()<=a;)a-=e.peekLength(),n.push(e.next());o.retain-a>0&&r.next(o.retain-a)}for(var s=new c(n);e.hasNext()||r.hasNext();)if("insert"===r.peekType())s.push(r.next());else if("delete"===e.peekType())s.push(e.next());else{var u=Math.min(e.peekLength(),r.peekLength()),f=e.next(u),p=r.next(u);if("number"==typeof p.retain){var h={};"number"==typeof f.retain?h.retain=u:h.insert=f.insert;var d=l.attributes.compose(f.attributes,p.attributes,"number"==typeof f.retain);if(d&&(h.attributes=d),s.push(h),!r.hasNext()&&i(s.ops[s.ops.length-1],h)){var y=new c(e.rest());return s.concat(y).chop()}}else"number"==typeof p.delete&&"number"==typeof f.retain&&s.push(p)}return s.chop()},c.prototype.concat=function(t){var e=new c(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},c.prototype.diff=function(t,e){if(this.ops===t.ops)return new c;var r=[this,t].map((function(e){return e.map((function(r){if(null!=r.insert)return"string"==typeof r.insert?r.insert:s;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),n=new c,a=o(r[0],r[1],e),u=l.iterator(this.ops),f=l.iterator(t.ops);return a.forEach((function(t){for(var e=t[1].length;e>0;){var r=0;switch(t[0]){case o.INSERT:r=Math.min(f.peekLength(),e),n.push(f.next(r));break;case o.DELETE:r=Math.min(e,u.peekLength()),u.next(r),n.delete(r);break;case o.EQUAL:r=Math.min(u.peekLength(),f.peekLength(),e);var a=u.next(r),s=f.next(r);i(a.insert,s.insert)?n.retain(r,l.attributes.diff(a.attributes,s.attributes)):n.push(s).delete(r)}e-=r}})),n.chop()},c.prototype.eachLine=function(t,e){e=e||"\n";for(var r=l.iterator(this.ops),n=new c,o=0;r.hasNext();){if("insert"!==r.peekType())return;var i=r.peek(),a=l.length(i)-r.peekLength(),s="string"==typeof i.insert?i.insert.indexOf(e,a)-a:-1;if(s<0)n.push(r.next());else if(s>0)n.push(r.next(s));else{if(!1===t(n,r.next(1).attributes||{},o))return;o+=1,n=new c}}n.length()>0&&t(n,{},o)},c.prototype.transform=function(t,e){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);for(var r=l.iterator(this.ops),n=l.iterator(t.ops),o=new c;r.hasNext()||n.hasNext();)if("insert"!==r.peekType()||!e&&"insert"===n.peekType())if("insert"===n.peekType())o.push(n.next());else{var i=Math.min(r.peekLength(),n.peekLength()),a=r.next(i),s=n.next(i);if(a.delete)continue;s.delete?o.push(s):o.retain(i,l.attributes.transform(a.attributes,s.attributes,e))}else o.retain(l.length(r.next()));return o.chop()},c.prototype.transformPosition=function(t,e){e=!!e;for(var r=l.iterator(this.ops),n=0;r.hasNext()&&n<=t;){var o=r.peekLength(),i=r.peekType();r.next(),"delete"!==i?("insert"===i&&(n<t||!e)&&(t+=o),n+=o):t-=Math.min(o,t-n)}return t},t.exports=c},9772:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(888),i=r(136),a={attributes:{compose:function(t,e,r){"object"!==n(t)&&(t={}),"object"!==n(e)&&(e={});var o=i(!0,{},e);for(var a in r||(o=Object.keys(o).reduce((function(t,e){return null!=o[e]&&(t[e]=o[e]),t}),{})),t)void 0!==t[a]&&void 0===e[a]&&(o[a]=t[a]);return Object.keys(o).length>0?o:void 0},diff:function(t,e){"object"!==n(t)&&(t={}),"object"!==n(e)&&(e={});var r=Object.keys(t).concat(Object.keys(e)).reduce((function(r,n){return o(t[n],e[n])||(r[n]=void 0===e[n]?null:e[n]),r}),{});return Object.keys(r).length>0?r:void 0},transform:function(t,e,r){if("object"!==n(t))return e;if("object"===n(e)){if(!r)return e;var o=Object.keys(e).reduce((function(r,n){return void 0===t[n]&&(r[n]=e[n]),r}),{});return Object.keys(o).length>0?o:void 0}}},iterator:function(t){return new l(t)},length:function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}};function l(t){this.ops=t,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var r=this.offset,n=a.length(e);if(t>=n-r?(t=n-r,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var o={};return e.attributes&&(o.attributes=e.attributes),"number"==typeof e.retain?o.retain=t:"string"==typeof e.insert?o.insert=e.insert.substr(r,t):o.insert=e.insert,o}return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=t,this.index=e,[r].concat(n)}return[]},t.exports=a},6620:()=>{var t=document.createElement("div");if(t.classList.toggle("test-class",!1),t.classList.contains("test-class")){var e=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,r){return arguments.length>1&&!this.contains(t)==!r?r:e.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var r=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>r.length)&&(e=r.length),e-=t.length;var n=r.indexOf(t,e);return-1!==n&&n===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,r=Object(this),n=r.length>>>0,o=arguments[1],i=0;i<n;i++)if(e=r[i],t.call(o,e,i,r))return e}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},7608:(t,e,r)=>{"use strict";var n=r(6048),o=r(3704),i=Object;t.exports=n((function(){if(null==this||this!==i(this))throw new o("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.unicodeSets&&(t+="v"),this.sticky&&(t+="y"),t}),"get flags",!0)},1544:(t,e,r)=>{"use strict";var n=r(9464),o=r(9536),i=r(7608),a=r(128),l=r(9568),s=o(a());n(s,{getPolyfill:a,implementation:i,shim:l}),t.exports=s},128:(t,e,r)=>{"use strict";var n=r(7608),o=r(9464).supportsDescriptors,i=Object.getOwnPropertyDescriptor;t.exports=function(){if(o&&"gim"===/a/gim.flags){var t=i(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var e="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){e+="d"}}),Object.defineProperty(r,"sticky",{get:function(){e+="y"}}),"dy"===e)return t.get}}return n}},9568:(t,e,r)=>{"use strict";var n=r(9464).supportsDescriptors,o=r(128),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,l=TypeError,s=Object.getPrototypeOf,c=/a/;t.exports=function(){if(!n||!s)throw new l("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=o(),e=s(c),r=i(e,"flags");return r&&r.get===t||a(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},2544:(t,e,r)=>{"use strict";var n=r(9976),o=r(9549),i=r(5767)(),a=r(3877),l=r(3704),s=n("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new l("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||s(e)!==e)throw new l("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,c=!0;if("length"in t&&a){var u=a(t,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(c=!1)}return(n||c||!r)&&(i?o(t,"length",e,!0,!0):o(t,"length",e)),t}},6048:(t,e,r)=>{"use strict";var n=r(9549),o=r(5767)(),i=r(9152).functionsHaveConfigurableNames(),a=TypeError;t.exports=function(t,e){if("function"!=typeof t)throw new a("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!i||(o?n(t,"name",e,!0,!0):n(t,"name",e)),t}},9588:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6788),o=function(){function t(t,e,r){void 0===r&&(r={}),this.attrName=t,this.keyName=e;var o=n.Scope.TYPE&n.Scope.ATTRIBUTE;null!=r.scope?this.scope=r.scope&n.Scope.LEVEL|o:this.scope=n.Scope.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,(function(t){return t.name}))},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=n.query(t,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=o},9371:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function i(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter((function(t){return 0===t.indexOf("".concat(e,"-"))}))}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map((function(t){return t.split("-").slice(0,-1).join("-")}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add("".concat(this.keyName,"-").concat(e)),!0)},e.prototype.remove=function(t){i(t,this.keyName).forEach((function(e){t.classList.remove(e)})),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(i(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(r(9588).default);e.default=a},1024:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(9588),o=r(9371),i=r(3800),a=r(6788),l=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=n.default.keys(this.domNode),r=o.default.keys(this.domNode),l=i.default.keys(this.domNode);e.concat(r).concat(l).forEach((function(e){var r=a.query(e,a.Scope.ATTRIBUTE);r instanceof n.default&&(t.attributes[r.attrName]=r)}))},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach((function(r){var n=e.attributes[r].value(e.domNode);t.format(r,n)}))},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach((function(t){e.attributes[t].remove(e.domNode)})),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce((function(e,r){return e[r]=t.attributes[r].value(t.domNode),e}),{})},t}();e.default=l},3800:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function i(t){var e=t.split("-"),r=e.slice(1).map((function(t){return t[0].toUpperCase()+t.slice(1)})).join("");return e[0]+r}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map((function(t){return t.split(":")[0].trim()}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[i(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[i(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[i(this.keyName)];return this.canAdd(t,e)?e:""},e}(r(9588).default);e.default=a},2212:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(6844),a=r(4356),l=r(6788),s=function(t){function e(e){var r=t.call(this,e)||this;return r.build(),r}return o(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach((function(t){t.attach()}))},e.prototype.build=function(){var t=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(e){try{var r=c(e);t.insertBefore(r,t.children.head||void 0)}catch(t){if(t instanceof l.ParchmentError)return;throw t}}))},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(function(t,e,r){t.deleteAt(e,r)}))},e.prototype.descendant=function(t,r){var n=this.children.find(r),o=n[0],i=n[1];return null==t.blotName&&t(o)||null!=t.blotName&&o instanceof t?[o,i]:o instanceof e?o.descendant(t,i):[null,-1]},e.prototype.descendants=function(t,r,n){void 0===r&&(r=0),void 0===n&&(n=Number.MAX_VALUE);var o=[],i=n;return this.children.forEachAt(r,n,(function(r,n,a){(null==t.blotName&&t(r)||null!=t.blotName&&r instanceof t)&&o.push(r),r instanceof e&&(o=o.concat(r.descendants(t,n,i))),i-=a})),o},e.prototype.detach=function(){this.children.forEach((function(t){t.detach()})),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,r,n){this.children.forEachAt(t,e,(function(t,e,o){t.formatAt(e,o,r,n)}))},e.prototype.insertAt=function(t,e,r){var n=this.children.find(t),o=n[0],i=n[1];if(o)o.insertAt(i,e,r);else{var a=null==r?l.create("text",e):l.create(e,r);this.appendChild(a)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(e){return t instanceof e})))throw new l.ParchmentError("Cannot insert ".concat(t.statics.blotName," into ").concat(this.statics.blotName));t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce((function(t,e){return t+e.length()}),0)},e.prototype.moveChildren=function(t,e){this.children.forEach((function(r){t.insertBefore(r,e)}))},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var r=l.create(this.statics.defaultChild);this.appendChild(r),r.optimize(e)}else this.remove()},e.prototype.path=function(t,r){void 0===r&&(r=!1);var n=this.children.find(t,r),o=n[0],i=n[1],a=[[this,t]];return o instanceof e?a.concat(o.path(i,r)):(null!=o&&a.push([o,i]),a)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(r){r instanceof e&&r.moveChildren(this),t.prototype.replace.call(this,r)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var r=this.clone();return this.parent.insertBefore(r,this.next),this.children.forEachAt(t,this.length(),(function(t,n,o){t=t.split(n,e),r.appendChild(t)})),r},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var r=this,n=[],o=[];t.forEach((function(t){t.target===r.domNode&&"childList"===t.type&&(n.push.apply(n,t.addedNodes),o.push.apply(o,t.removedNodes))})),o.forEach((function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=l.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==r.domNode||e.detach())}})),n.filter((function(t){return t.parentNode==r.domNode})).sort((function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(t){var e=null;null!=t.nextSibling&&(e=l.find(t.nextSibling));var n=c(t);n.next==e&&null!=n.next||(null!=n.parent&&n.parent.removeChild(r),r.insertBefore(n,e||void 0))}))},e}(a.default);function c(t){var e=l.find(t);if(null==e)try{e=l.create(t)}catch(r){e=l.create(l.Scope.INLINE),[].slice.call(t.childNodes).forEach((function(t){e.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=s},8656:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(9588),a=r(1024),l=r(2212),s=r(6788),c=function(t){function e(e){var r=t.call(this,e)||this;return r.attributes=new a.default(r.domNode),r}return o(e,t),e.formats=function(t){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var r=s.query(t);r instanceof i.default?this.attributes.attribute(r,e):e&&(null==r||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,r){var n=t.prototype.replaceWith.call(this,e,r);return this.attributes.copy(n),n},e.prototype.update=function(e,r){var n=this;t.prototype.update.call(this,e,r),e.some((function(t){return t.target===n.domNode&&"attributes"===t.type}))&&this.attributes.build()},e.prototype.wrap=function(r,n){var o=t.prototype.wrap.call(this,r,n);return o instanceof e&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},e}(l.default);e.default=c},4184:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(4356),a=r(6788),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(r+=1),[this.parent.domNode,r]},e.prototype.value=function(){var t;return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=a.Scope.INLINE_BLOT,e}(i.default);e.default=l},4356:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6788),o=function(){function t(t){this.domNode=t,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!1,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return n.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,r,o){var i=this.isolate(t,e);if(null!=n.query(r,n.Scope.BLOT)&&o)i.wrap(r,o);else if(null!=n.query(r,n.Scope.ATTRIBUTE)){var a=n.create(this.statics.scope);i.wrap(a),a.format(r,o)}},t.prototype.insertAt=function(t,e,r){var o=null==r?n.create("text",e):n.create(e,r),i=this.split(t);this.parent.insertBefore(o,i)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var r=null;t.children.insertBefore(this,e),null!=e&&(r=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==r||t.domNode.insertBefore(this.domNode,r),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var r=this.split(t);return r.split(e),r},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var r="string"==typeof t?n.create(t,e):t;return r.replace(this),r},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var r="string"==typeof t?n.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(r,this.next),r.appendChild(this),r},t.blotName="abstract",t}();e.default=o},8040:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(8656),a=r(6788),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(r){var n=a.query(e.blotName).tagName;if(r.tagName!==n)return t.formats.call(this,r)},e.prototype.format=function(r,n){null!=a.query(r,a.Scope.BLOCK)&&(r!==this.statics.blotName||n?t.prototype.format.call(this,r,n):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,r,n,o){null!=a.query(n,a.Scope.BLOCK)?this.format(n,o):t.prototype.formatAt.call(this,e,r,n,o)},e.prototype.insertAt=function(e,r,n){if(null==n||null!=a.query(r,a.Scope.INLINE))t.prototype.insertAt.call(this,e,r,n);else{var o=this.split(e),i=a.create(r,n);o.parent.insertBefore(i,o)}},e.prototype.update=function(e,r){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,r)},e.blotName="block",e.scope=a.Scope.BLOCK_BLOT,e.tagName="P",e}(i.default);e.default=l},6356:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(t){},e.prototype.format=function(e,r){t.prototype.formatAt.call(this,0,this.length(),e,r)},e.prototype.formatAt=function(e,r,n,o){0===e&&r===this.length()?this.format(n,o):t.prototype.formatAt.call(this,e,r,n,o)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(r(4184).default);e.default=i},6324:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(8656),a=r(6788),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(r){if(r.tagName!==e.tagName)return t.formats.call(this,r)},e.prototype.format=function(r,n){var o=this;r!==this.statics.blotName||n?t.prototype.format.call(this,r,n):(this.children.forEach((function(t){t instanceof i.default||(t=t.wrap(e.blotName,!0)),o.attributes.copy(t)})),this.unwrap())},e.prototype.formatAt=function(e,r,n,o){null!=this.formats()[n]||a.query(n,a.Scope.ATTRIBUTE)?this.isolate(e,r).format(n,o):t.prototype.formatAt.call(this,e,r,n,o)},e.prototype.optimize=function(r){t.prototype.optimize.call(this,r);var n=this.formats();if(0===Object.keys(n).length)return this.unwrap();var o=this.next;o instanceof e&&o.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(t[r]!==e[r])return!1;return!0}(n,o.formats())&&(o.moveChildren(this),o.remove())},e.blotName="inline",e.scope=a.Scope.INLINE_BLOT,e.tagName="SPAN",e}(i.default);e.default=l},560:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(2212),a=r(6788),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=function(t){function e(e){var r=t.call(this,e)||this;return r.scroll=r,r.observer=new MutationObserver((function(t){r.update(t)})),r.observer.observe(r.domNode,l),r.attach(),r}return o(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,r){this.update(),0===e&&r===this.length()?this.children.forEach((function(t){t.remove()})):t.prototype.deleteAt.call(this,e,r)},e.prototype.formatAt=function(e,r,n,o){this.update(),t.prototype.formatAt.call(this,e,r,n,o)},e.prototype.insertAt=function(e,r,n){this.update(),t.prototype.insertAt.call(this,e,r,n)},e.prototype.optimize=function(e,r){var n=this;void 0===e&&(e=[]),void 0===r&&(r={}),t.prototype.optimize.call(this,r);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)e.push(o.pop());for(var l=function(t,e){void 0===e&&(e=!0),null!=t&&t!==n&&null!=t.domNode.parentNode&&(null==t.domNode[a.DATA_KEY].mutations&&(t.domNode[a.DATA_KEY].mutations=[]),e&&l(t.parent))},s=function(t){null!=t.domNode[a.DATA_KEY]&&null!=t.domNode[a.DATA_KEY].mutations&&(t instanceof i.default&&t.children.forEach(s),t.optimize(r))},c=e,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach((function(t){var e=a.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(l(a.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,(function(t){var e=a.find(t,!1);l(e,!1),e instanceof i.default&&e.children.forEach((function(t){l(t,!1)}))}))):"attributes"===t.type&&l(e.prev)),l(e))})),this.children.forEach(s),o=(c=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)e.push(o.pop())}},e.prototype.update=function(e,r){var n=this;void 0===r&&(r={}),(e=e||this.observer.takeRecords()).map((function(t){var e=a.find(t.target,!0);return null==e?null:null==e.domNode[a.DATA_KEY].mutations?(e.domNode[a.DATA_KEY].mutations=[t],e):(e.domNode[a.DATA_KEY].mutations.push(t),null)})).forEach((function(t){null!=t&&t!==n&&null!=t.domNode[a.DATA_KEY]&&t.update(t.domNode[a.DATA_KEY].mutations||[],r)})),null!=this.domNode[a.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,r),this.optimize(e,r)},e.blotName="scroll",e.defaultChild="block",e.scope=a.Scope.BLOCK_BLOT,e.tagName="DIV",e}(i.default);e.default=s},5192:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(4184),a=r(6788),l=function(t){function e(e){var r=t.call(this,e)||this;return r.text=r.statics.value(r.domNode),r}return o(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e.normalize&&(e=e.normalize()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,r,n){null==n?(this.text=this.text.slice(0,e)+r+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,r,n)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(r){t.prototype.optimize.call(this,r),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var r=a.create(this.domNode.splitText(t));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},e.prototype.update=function(t,e){var r=this;t.some((function(t){return"characterData"===t.type&&t.target===r.domNode}))&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=a.Scope.INLINE_BLOT,e}(i.default);e.default=l},6844:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,r=this.iterator();e=r();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,r=this.head;null!=r;){if(r===t)return e;e+=r.length(),r=r.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var r,n=this.iterator();r=n();){var o=r.length();if(t<o||e&&t===o&&(null==r.next||0!==r.next.length()))return[r,t];t-=o}return[null,0]},t.prototype.forEach=function(t){for(var e,r=this.iterator();e=r();)t(e)},t.prototype.forEachAt=function(t,e,r){if(!(e<=0))for(var n,o=this.find(t),i=o[0],a=t-o[1],l=this.iterator(i);(n=l())&&a<t+e;){var s=n.length();t>a?r(n,t-a,Math.min(e,a+s-t)):r(n,0,Math.min(s,t+e-a)),a+=s}},t.prototype.map=function(t){return this.reduce((function(e,r){return e.push(t(r)),e}),[])},t.prototype.reduce=function(t,e){for(var r,n=this.iterator();r=n();)e=t(e,r);return e},t}();e.default=r},6688:(t,e,r)=>{"use strict";var n=r(2212),o=r(8656),i=r(4184),a=r(560),l=r(6324),s=r(8040),c=r(6356),u=r(5192),f=r(9588),p=r(9371),h=r(3800),d=r(1024),y=r(6788),m={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:n.default,Format:o.default,Leaf:i.default,Embed:c.default,Scroll:a.default,Block:s.default,Inline:l.default,Text:u.default,Attributor:{Attribute:f.default,Class:p.default,Style:h.default,Store:d.default}};e.c=m},6788:function(t,e){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.register=e.query=e.find=e.create=e.Scope=e.DATA_KEY=e.ParchmentError=void 0;var o=function(t){function e(e){var r=this;return e="[Parchment] "+e,(r=t.call(this,e)||this).message=e,r.name=r.constructor.name,r}return n(e,t),e}(Error);e.ParchmentError=o;var i,a={},l={},s={},c={};function u(t,e){var r;if(void 0===e&&(e=i.ANY),"string"==typeof t)r=c[t]||a[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)r=c.text;else if("number"==typeof t)t&i.LEVEL&i.BLOCK?r=c.block:t&i.LEVEL&i.INLINE&&(r=c.inline);else if(t instanceof HTMLElement){var n=(t.getAttribute("class")||"").split(/\s+/);for(var o in n)if(r=l[n[o]])break;r=r||s[t.tagName]}return null==r?null:e&i.LEVEL&r.scope&&e&i.TYPE&r.scope?r:null}e.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(i||(e.Scope=i={})),e.create=function(t,e){var r=u(t);if(null==r)throw new o("Unable to create ".concat(t," blot"));var n=r,i=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:n.create(e);return new n(i,e)},e.find=function t(r,n){return void 0===n&&(n=!1),null==r?null:null!=r[e.DATA_KEY]?r[e.DATA_KEY].blot:n?t(r.parentNode,n):null},e.query=u,e.register=function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(e.length>1)return e.map((function(e){return t(e)}));var n=e[0];if("string"!=typeof n.blotName&&"string"!=typeof n.attrName)throw new o("Invalid definition");if("abstract"===n.blotName)throw new o("Cannot register abstract class");return c[n.blotName||n.attrName]=n,"string"==typeof n.keyName?a[n.keyName]=n:(null!=n.className&&(l[n.className]=n),null!=n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map((function(t){return t.toUpperCase()})):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach((function(t){null!=s[t]&&null!=n.className||(s[t]=n)})))),n}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var n={};return(()=>{"use strict";r.r(n),r.d(n,{default:()=>ro});var t=r(6688),e=(r(6620),r(3292)),o=r.n(e),i=r(9772),a=r.n(i),l=r(136),s=r.n(l);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===c(o)?o:String(o)),n)}var o}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},f.apply(this,arguments)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(l,t);var e,r,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(o);if(i){var r=h(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return e=l,n=[{key:"value",value:function(){}}],(r=[{key:"insertInto",value:function(t,e){0===t.children.length?f(h(l.prototype),"insertInto",this).call(this,t,e):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}])&&u(e.prototype,r),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(t.c.Embed);d.blotName="break",d.tagName="BR";const y=d;function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(r);if(n){var o=g(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(t.c.Text);const _=v;function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==O(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===O(o)?o:String(o)),n)}var o}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},E.apply(this,arguments)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}var x=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(s,e);var r,n,o,i,a,l=(i=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=T(i);if(a){var r=T(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),l.apply(this,arguments)}return r=s,o=[{key:"compare",value:function(t,e){var r=s.order.indexOf(t),n=s.order.indexOf(e);return r>=0||n>=0?r-n:t===e?0:t<e?-1:1}}],(n=[{key:"formatAt",value:function(e,r,n,o){if(s.compare(this.statics.blotName,n)<0&&t.c.query(n,t.c.Scope.BLOT)){var i=this.isolate(e,r);o&&i.wrap(n,o)}else E(T(s.prototype),"formatAt",this).call(this,e,r,n,o)}},{key:"optimize",value:function(t){if(E(T(s.prototype),"optimize",this).call(this,t),this.parent instanceof s&&s.compare(this.statics.blotName,this.parent.statics.blotName)>0){var e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}}])&&S(r.prototype,n),o&&S(r,o),Object.defineProperty(r,"prototype",{writable:!1}),s}(t.c.Inline);x.allowedChildren=[x,t.c.Embed,_],x.order=["cursor","inline","underline","strike","italic","bold","script","link","code"];const A=x;function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==N(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===N(o)?o:String(o)),n)}var o}function P(t,e,r){return e&&k(t.prototype,e),r&&k(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=F(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},j.apply(this,arguments)}function R(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=F(t);if(e){var o=F(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}var M=function(e){R(n,e);var r=I(n);function n(){return C(this,n),r.apply(this,arguments)}return P(n,[{key:"attach",value:function(){j(F(n.prototype),"attach",this).call(this),this.attributes=new t.c.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new(o())).insert(this.value(),s()(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,r){var n=t.c.query(e,t.c.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,r)}},{key:"formatAt",value:function(t,e,r,n){this.format(r,n)}},{key:"insertAt",value:function(e,r,o){if("string"==typeof r&&r.endsWith("\n")){var i=t.c.create(D.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,r.slice(0,-1))}else j(F(n.prototype),"insertAt",this).call(this,e,r,o)}}]),n}(t.c.Embed);M.scope=t.c.Scope.BLOCK_BLOT;var D=function(e){R(n,e);var r=I(n);function n(t){var e;return C(this,n),(e=r.call(this,t)).cache={},e}return P(n,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(t.c.Leaf).reduce((function(t,e){return 0===e.length()?t:t.insert(e.value(),W(e))}),new(o())).insert("\n",W(this))),this.cache.delta}},{key:"deleteAt",value:function(t,e){j(F(n.prototype),"deleteAt",this).call(this,t,e),this.cache={}}},{key:"formatAt",value:function(e,r,o,i){r<=0||(t.c.query(o,t.c.Scope.BLOCK)?e+r===this.length()&&this.format(o,i):j(F(n.prototype),"formatAt",this).call(this,e,Math.min(r,this.length()-e-1),o,i),this.cache={})}},{key:"insertAt",value:function(t,e,r){if(null!=r)return j(F(n.prototype),"insertAt",this).call(this,t,e,r);if(0!==e.length){var o=e.split("\n"),i=o.shift();i.length>0&&(t<this.length()-1||null==this.children.tail?j(F(n.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),i):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});var a=this;o.reduce((function(t,e){return(a=a.split(t,!0)).insertAt(0,e),e.length}),t+i.length)}}},{key:"insertBefore",value:function(t,e){var r=this.children.head;j(F(n.prototype),"insertBefore",this).call(this,t,e),r instanceof y&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=j(F(n.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,e){j(F(n.prototype),"moveChildren",this).call(this,t,e),this.cache={}}},{key:"optimize",value:function(t){j(F(n.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return j(F(n.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){j(F(n.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&(0===t||t>=this.length()-1)){var r=this.clone();return 0===t?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var o=j(F(n.prototype),"split",this).call(this,t,e);return this.cache={},o}}]),n}(t.c.Block);function W(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"==typeof t.formats&&(e=s()(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:W(t.parent,e))}function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return U(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function V(){return V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=J(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},V.apply(this,arguments)}function z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==B(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===B(o)?o:String(o)),n)}var o}function H(t,e,r){return e&&z(t.prototype,e),r&&z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$(t,e)}function $(t,e){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$(t,e)}function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=J(t);if(e){var o=J(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}D.blotName="block",D.tagName="P",D.defaultChild="break",D.allowedChildren=[A,t.c.Embed,_];var Q=function(t){K(r,t);var e=Y(r);function r(){return G(this,r),e.apply(this,arguments)}return H(r)}(A);Q.blotName="code",Q.tagName="CODE";var X=function(e){K(n,e);var r=Y(n);function n(){return G(this,n),r.apply(this,arguments)}return H(n,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce((function(e,r){return e.insert(r).insert("\n",t.formats())}),new(o()))}},{key:"format",value:function(t,e){if(t!==this.statics.blotName||!e){var r=q(this.descendant(_,this.length()-1),1)[0];null!=r&&r.deleteAt(r.length()-1,1),V(J(n.prototype),"format",this).call(this,t,e)}}},{key:"formatAt",value:function(e,r,o,i){if(0!==r&&null!=t.c.query(o,t.c.Scope.BLOCK)&&(o!==this.statics.blotName||i!==this.statics.formats(this.domNode))){var a=this.newlineIndex(e);if(!(a<0||a>=e+r)){var l=this.newlineIndex(e,!0)+1,s=a-l+1,c=this.isolate(l,s),u=c.next;c.format(o,i),u instanceof n&&u.formatAt(0,e-l+r-s,o,i)}}}},{key:"insertAt",value:function(t,e,r){if(null==r){var n=q(this.descendant(_,t),2),o=n[0],i=n[1];o.insertAt(i,e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var e=this.domNode.textContent.slice(t).indexOf("\n");return e>-1?t+e:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(t.c.create("text","\n")),V(J(n.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===r.statics.formats(r.domNode)&&(r.optimize(e),r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){V(J(n.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var r=t.c.find(e);null==r?e.parentNode.removeChild(e):r instanceof t.c.Embed?r.remove():r.unwrap()}))}}],[{key:"create",value:function(t){var e=V(J(n),"create",this).call(this,t);return e.setAttribute("spellcheck",!1),e}},{key:"formats",value:function(){return!0}}]),n}(D);function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function et(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Z(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Z(o)?o:String(o)),n)}var o}function rt(){return rt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ot(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},rt.apply(this,arguments)}function nt(t,e){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nt(t,e)}function ot(t){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ot(t)}X.blotName="code-block",X.tagName="PRE",X.TAB="  ";var it=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nt(t,e)}(s,e);var r,n,o,i,a,l=(i=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ot(i);if(a){var r=ot(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(r=l.call(this,t)).selection=e,r.textNode=document.createTextNode(s.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return r=s,o=[{key:"value",value:function(){}}],(n=[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,r){if(0!==this._length)return rt(ot(s.prototype),"format",this).call(this,e,r);for(var n=this,o=0;null!=n&&n.statics.scope!==t.c.Scope.BLOCK_BLOT;)o+=n.offset(n.parent),n=n.parent;null!=n&&(this._length=s.CONTENTS.length,n.optimize(),n.formatAt(o,s.CONTENTS.length,e,r),this._length=0)}},{key:"index",value:function(t,e){return t===this.textNode?0:rt(ot(s.prototype),"index",this).call(this,t,e)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){rt(ot(s.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e,r,n,o=this.textNode,i=this.selection.getNativeRange();if(null!=i&&i.start.node===o&&i.end.node===o){var a=[o,i.start.offset,i.end.offset];e=a[0],r=a[1],n=a[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==s.CONTENTS){var l=this.textNode.data.split(s.CONTENTS).join("");this.next instanceof _?(e=this.next.domNode,this.next.insertAt(0,l),this.textNode.data=s.CONTENTS):(this.textNode.data=l,this.parent.insertBefore(t.c.create(this.textNode),this),this.textNode=document.createTextNode(s.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=r){var c=(u=[r,n].map((function(t){return Math.max(0,Math.min(e.data.length,t-1))})),f=2,function(t){if(Array.isArray(t))return t}(u)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(u,f)||function(t,e){if(t){if("string"==typeof t)return tt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tt(t,e):void 0}}(u,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return r=c[0],n=c[1],{startNode:e,startOffset:r,endNode:e,endOffset:n}}}var u,f}},{key:"update",value:function(t,e){var r=this;if(t.some((function(t){return"characterData"===t.type&&t.target===r.textNode}))){var n=this.restore();n&&(e.range=n)}}},{key:"value",value:function(){return""}}])&&et(r.prototype,n),o&&et(r,o),Object.defineProperty(r,"prototype",{writable:!1}),s}(t.c.Embed);it.blotName="cursor",it.className="ql-cursor",it.tagName="span",it.CONTENTS="\ufeff";const at=it;var lt=r(3520),st=r.n(lt),ct=r(888),ut=r.n(ct);function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function pt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ht(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ht(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yt(n.key),n)}}function yt(t){var e=function(t,e){if("object"!==ft(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ft(e)?e:String(e)}var mt=/^[ -~]*$/,bt=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}var r,n;return r=e,n=[{key:"applyDelta",value:function(e){var r=this,n=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),(e=function(t){return t.reduce((function(t,e){if(1===e.insert){var r=st()(e.attributes);return delete r.image,t.insert({image:e.attributes.image},r)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||((e=st()(e)).attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){var n=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(n,e.attributes)}return t.push(e)}),new(o()))}(e)).reduce((function(e,o){var l=o.retain||o.delete||o.insert.length||1,c=o.attributes||{};if(null!=o.insert){if("string"==typeof o.insert){var u=o.insert;u.endsWith("\n")&&n&&(n=!1,u=u.slice(0,-1)),e>=i&&!u.endsWith("\n")&&(n=!0),r.scroll.insertAt(e,u);var f=pt(r.scroll.line(e),2),p=f[0],h=f[1],d=s()({},W(p));if(p instanceof D){var y=pt(p.descendant(t.c.Leaf,h),1)[0];d=s()(d,W(y))}c=a().attributes.diff(d,c)||{}}else if("object"===ft(o.insert)){var m=Object.keys(o.insert)[0];if(null==m)return e;r.scroll.insertAt(e,m,o.insert[m])}i+=l}return Object.keys(c).forEach((function(t){r.scroll.formatAt(e,l,t,c[t])})),e+l}),0),e.reduce((function(t,e){return"number"==typeof e.delete?(r.scroll.deleteAt(t,e.delete),t):t+(e.retain||e.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new(o())).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(n).forEach((function(o){if(null==r.scroll.whitelist||r.scroll.whitelist[o]){var i=r.scroll.lines(t,Math.max(e,1)),a=e;i.forEach((function(e){var i=e.length();if(e instanceof X){var l=t-e.offset(r.scroll),s=e.newlineIndex(l+a)-l+1;e.formatAt(l,s,o,n[o])}else e.format(o,n[o]);a-=i}))}})),this.scroll.optimize(),this.update((new(o())).retain(t).retain(e,st()(n)))}},{key:"formatText",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(n).forEach((function(o){r.scroll.formatAt(t,e,o,n[o])})),this.update((new(o())).retain(t).retain(e,st()(n)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(t,e){return t.concat(e.delta())}),new(o()))}},{key:"getFormat",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],o=[];0===r?this.scroll.path(e).forEach((function(e){var r=pt(e,1)[0];r instanceof D?n.push(r):r instanceof t.c.Leaf&&o.push(r)})):(n=this.scroll.lines(e,r),o=this.scroll.descendants(t.c.Leaf,e,r));var i=[n,o].map((function(t){if(0===t.length)return{};for(var e=W(t.shift());Object.keys(e).length>0;){var r=t.shift();if(null==r)return e;e=gt(W(r),e)}return e}));return s().apply(s(),i)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter((function(t){return"string"==typeof t.insert})).map((function(t){return t.insert})).join("")}},{key:"insertEmbed",value:function(t,e,r){return this.scroll.insertAt(t,e,r),this.update((new(o())).retain(t).insert(function(t,e,r){return(e=yt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({},e,r)))}},{key:"insertText",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(n).forEach((function(o){r.scroll.formatAt(t,e.length,o,n[o])})),this.update((new(o())).retain(t).insert(e,st()(n)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===D.blotName&&!(t.children.length>1)&&t.children.head instanceof y}},{key:"removeFormat",value:function(t,e){var r=this.getText(t,e),n=pt(this.scroll.line(t+e),2),i=n[0],a=n[1],l=0,s=new(o());null!=i&&(l=i instanceof X?i.newlineIndex(a)-a+1:i.length()-a,s=i.delta().slice(a,a+l-1).insert("\n"));var c=this.getContents(t,e+l).diff((new(o())).insert(r).concat(s)),u=(new(o())).retain(t).concat(c);return this.applyDelta(u)}},{key:"update",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===r.length&&"characterData"===r[0].type&&r[0].target.data.match(mt)&&t.c.find(r[0].target)){var a=t.c.find(r[0].target),l=W(a),s=a.offset(this.scroll),c=r[0].oldValue.replace(at.CONTENTS,""),u=(new(o())).insert(c),f=(new(o())).insert(a.value());e=(new(o())).retain(s).concat(u.diff(f,n)).reduce((function(t,e){return e.insert?t.insert(e.insert,l):t.push(e)}),new(o())),this.delta=i.compose(e)}else this.delta=this.getDelta(),e&&ut()(i.compose(e),this.delta)||(e=i.diff(this.delta,n));return e}}],n&&dt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}();function gt(t,e){return Object.keys(e).reduce((function(r,n){return null==t[n]||(e[n]===t[n]?r[n]=e[n]:Array.isArray(e[n])?e[n].indexOf(t[n])<0&&(r[n]=e[n].concat([t[n]])):r[n]=[e[n],t[n]]),r}),{})}const vt=bt;var _t=r(8208),Ot=r.n(_t),St=["error","warn","log","info"],Et="warn";function wt(t){if(St.indexOf(t)<=St.indexOf(Et)){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(e=console)[t].apply(e,n)}}function Tt(t){return St.reduce((function(e,r){return e[r]=wt.bind(console,r,t),e}),{})}wt.level=Tt.level=function(t){Et=t};const xt=Tt;function At(t){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(t)}function Nt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==At(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==At(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===At(o)?o:String(o)),n)}var o}function Ct(){return Ct="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ct.apply(this,arguments)}function kt(t,e){return kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kt(t,e)}function Pt(t){return Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pt(t)}var jt=xt("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(t){document.addEventListener(t,(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(t){var r;t.__quill&&t.__quill.emitter&&(r=t.__quill.emitter).handleDOM.apply(r,e)}))}))}));var Rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kt(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pt(n);if(o){var r=Pt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===At(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).listeners={},t.on("error",jt.error),t}return e=a,r=[{key:"emit",value:function(){jt.log.apply(jt,arguments),Ct(Pt(a.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];(this.listeners[t.type]||[]).forEach((function(e){var n=e.node,o=e.handler;(t.target===n||n.contains(t.target))&&o.apply(void 0,[t].concat(r))}))}},{key:"listenDOM",value:function(t,e,r){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:r})}}],r&&Nt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Ot());Rt.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},Rt.sources={API:"api",SILENT:"silent",USER:"user"};const Lt=Rt;function It(t){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(t)}function Ft(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==It(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==It(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===It(o)?o:String(o)),n)}var o}function Mt(t,e,r){return e&&Ft(t.prototype,e),r&&Ft(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var Dt=Mt((function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=r}));Dt.DEFAULTS={};const Wt=Dt;function Bt(t){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bt(t)}function qt(t){return function(t){if(Array.isArray(t))return zt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Vt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||Vt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(t,e){if(t){if("string"==typeof t)return zt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zt(t,e):void 0}}function zt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Bt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Bt(o)?o:String(o)),n)}var o}function Gt(t,e,r){return e&&Ht(t.prototype,e),r&&Ht(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var $t=xt("quill:selection"),Yt=Gt((function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Kt(this,t),this.index=e,this.length=r})),Jt=function(){function e(r,n){var o=this;Kt(this,e),this.emitter=n,this.scroll=r,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=t.c.create("cursor",this),this.lastRange=this.savedRange=new Yt(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){o.mouseDown||setTimeout(o.update.bind(o,Lt.sources.USER),1)})),this.emitter.on(Lt.events.EDITOR_CHANGE,(function(t,e){t===Lt.events.TEXT_CHANGE&&e.length()>0&&o.update(Lt.sources.SILENT)})),this.emitter.on(Lt.events.SCROLL_BEFORE_UPDATE,(function(){if(o.hasFocus()){var t=o.getNativeRange();null!=t&&t.start.node!==o.cursor.textNode&&o.emitter.once(Lt.events.SCROLL_UPDATE,(function(){try{o.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(t){}}))}})),this.emitter.on(Lt.events.SCROLL_OPTIMIZE,(function(t,e){if(e.range){var r=e.range,n=r.startNode,i=r.startOffset,a=r.endNode,l=r.endOffset;o.setNativeRange(n,i,a,l)}})),this.update(Lt.sources.SILENT)}return Gt(e,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",(function(){t.composing=!0})),this.root.addEventListener("compositionend",(function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout((function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,(function(){t.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){t.mouseDown=!1,t.update(Lt.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,r){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!t.c.query(e,t.c.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var o=t.c.find(n.start.node,!1);if(null==o)return;if(o instanceof t.c.Leaf){var i=o.split(n.start.offset);o.parent.insertBefore(this.cursor,i)}else o.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,r),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();t=Math.min(t,r-1),e=Math.min(t+e,r-1)-t;var n,o=Ut(this.scroll.leaf(t),2),i=o[0],a=o[1];if(null==i)return null;var l=Ut(i.position(a,!0),2);n=l[0],a=l[1];var s=document.createRange();if(e>0){s.setStart(n,a);var c=Ut(this.scroll.leaf(t+e),2);if(i=c[0],a=c[1],null==i)return null;var u=Ut(i.position(a,!0),2);return n=u[0],a=u[1],s.setEnd(n,a),s.getBoundingClientRect()}var f,p="left";return n instanceof Text?(a<n.data.length?(s.setStart(n,a),s.setEnd(n,a+1)):(s.setStart(n,a-1),s.setEnd(n,a),p="right"),f=s.getBoundingClientRect()):(f=i.domNode.getBoundingClientRect(),a>0&&(p="right")),{bottom:f.top+f.height,height:f.height,left:f[p],right:f[p],top:f.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var r=this.normalizeNative(e);return $t.info("getNativeRange",r),r}},{key:"getRange",value:function(){var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var r=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var o=n.map((function(e){var n=Ut(e,2),o=n[0],i=n[1],a=t.c.find(o,!0),l=a.offset(r.scroll);return 0===i?l:a instanceof t.c.Container?l+a.length():l+a.index(o,i)})),i=Math.min(Math.max.apply(Math,qt(o)),this.scroll.length()-1),a=Math.min.apply(Math,[i].concat(qt(o)));return new Yt(a,i-a)}},{key:"normalizeNative",value:function(t){if(!Qt(this.root,t.startContainer)||!t.collapsed&&!Qt(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){for(var e=t.node,r=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>r)e=e.childNodes[r],r=0;else{if(e.childNodes.length!==r)break;r=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=r})),e}},{key:"rangeToNative",value:function(t){var e=this,r=t.collapsed?[t.index]:[t.index,t.index+t.length],n=[],o=this.scroll.length();return r.forEach((function(t,r){t=Math.min(o-1,t);var i,a=Ut(e.scroll.leaf(t),2),l=a[0],s=a[1],c=Ut(l.position(s,0!==r),2);i=c[0],s=c[1],n.push(i,s)})),n.length<2&&(n=n.concat(n)),n}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var r=this.getBounds(e.index,e.length);if(null!=r){var n=this.scroll.length()-1,o=Ut(this.scroll.line(Math.min(e.index,n)),1)[0],i=o;if(e.length>0&&(i=Ut(this.scroll.line(Math.min(e.index+e.length,n)),1)[0]),null!=o&&null!=i){var a=t.getBoundingClientRect();r.top<a.top?t.scrollTop-=a.top-r.top:r.bottom>a.bottom&&(t.scrollTop+=r.bottom-a.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if($t.info("setNativeRange",t,e,r,n),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=r.parentNode){var i=document.getSelection();if(null!=i)if(null!=t){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||t!==a.startContainer||e!==a.startOffset||r!==a.endContainer||n!==a.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==r.tagName&&(n=[].indexOf.call(r.parentNode.childNodes,r),r=r.parentNode);var l=document.createRange();l.setStart(t,e),l.setEnd(r,n),i.removeAllRanges(),i.addRange(l)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lt.sources.API;if("string"==typeof e&&(r=e,e=!1),$t.info("setRange",t),null!=t){var n=this.rangeToNative(t);this.setNativeRange.apply(this,qt(n).concat([e]))}else this.setNativeRange(null);this.update(r)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt.sources.USER,e=this.lastRange,r=Ut(this.getRange(),2),n=r[0],o=r[1];if(this.lastRange=n,null!=this.lastRange&&(this.savedRange=this.lastRange),!ut()(e,this.lastRange)){var i;!this.composing&&null!=o&&o.native.collapsed&&o.start.node!==this.cursor.textNode&&this.cursor.restore();var a,l=[Lt.events.SELECTION_CHANGE,st()(this.lastRange),st()(e),t];(i=this.emitter).emit.apply(i,[Lt.events.EDITOR_CHANGE].concat(l)),t!==Lt.sources.SILENT&&(a=this.emitter).emit.apply(a,l)}}}]),e}();function Qt(t,e){try{e.parentNode}catch(t){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}function Xt(t){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xt(t)}function Zt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Xt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Xt(o)?o:String(o)),n)}var o}var te=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=r,this.modules={}}var e,r;return e=t,(r=[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach((function(e){null==t.modules[e]&&t.addModule(e)}))}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/".concat(t));return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}])&&Zt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();te.DEFAULTS={modules:{}},te.themes={default:te};const ee=te;function re(t){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(t)}function ne(t,e,r){return(e=le(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ie(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ie(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,le(n.key),n)}}function le(t){var e=function(t,e){if("object"!==re(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===re(e)?e:String(e)}var se=xt("quill"),ce=function(){function e(r){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=ue(r,o),this.container=this.options.container,null==this.container)return se.error("Invalid Quill container",r);this.options.debug&&e.debug(this.options.debug);var i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new Lt,this.scroll=t.c.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new vt(this.scroll),this.selection=new Jt(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(Lt.events.EDITOR_CHANGE,(function(t){t===Lt.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(Lt.events.SCROLL_UPDATE,(function(t,e){var r=n.selection.lastRange,o=r&&0===r.length?r.index:void 0;fe.call(n,(function(){return n.editor.update(null,e,o)}),t)}));var a=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">".concat(i,"<p><br></p></div>"));this.setContents(a),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}var r,n,i;return r=e,n=[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var r=t;(t=document.createElement("div")).classList.add(r)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,r){var n=this,o=oe(pe(t,e,r),4);return t=o[0],e=o[1],r=o[3],fe.call(this,(function(){return n.editor.deleteText(t,e)}),r,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(e,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lt.sources.API;return fe.call(this,(function(){var i=n.getSelection(!0),a=new(o());if(null==i)return a;if(t.c.query(e,t.c.Scope.BLOCK))a=n.editor.formatLine(i.index,i.length,ne({},e,r));else{if(0===i.length)return n.selection.format(e,r),a;a=n.editor.formatText(i.index,i.length,ne({},e,r))}return n.setSelection(i,Lt.sources.SILENT),a}),i)}},{key:"formatLine",value:function(t,e,r,n,o){var i,a=this,l=oe(pe(t,e,r,n,o),4);return t=l[0],e=l[1],i=l[2],o=l[3],fe.call(this,(function(){return a.editor.formatLine(t,e,i)}),o,t,0)}},{key:"formatText",value:function(t,e,r,n,o){var i,a=this,l=oe(pe(t,e,r,n,o),4);return t=l[0],e=l[1],i=l[2],o=l[3],fe.call(this,(function(){return a.editor.formatText(t,e,i)}),o,t,0)}},{key:"getBounds",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e="number"==typeof t?this.selection.getBounds(t,r):this.selection.getBounds(t.index,t.length);var n=this.container.getBoundingClientRect();return{bottom:e.bottom-n.top,height:e.height,left:e.left-n.left,right:e.right-n.left,top:e.top-n.top,width:e.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,r=oe(pe(t,e),2);return t=r[0],e=r[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,r=oe(pe(t,e),2);return t=r[0],e=r[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,r,n){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return fe.call(this,(function(){return o.editor.insertEmbed(t,r,n)}),i,t)}},{key:"insertText",value:function(t,e,r,n,o){var i,a=this,l=oe(pe(t,0,r,n,o),4);return t=l[0],i=l[2],o=l[3],fe.call(this,(function(){return a.editor.insertText(t,e,i)}),o,t,e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,r){this.clipboard.dangerouslyPasteHTML(t,e,r)}},{key:"removeFormat",value:function(t,e,r){var n=this,o=oe(pe(t,e,r),4);return t=o[0],e=o[1],r=o[3],fe.call(this,(function(){return n.editor.removeFormat(t,e)}),r,t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lt.sources.API;return fe.call(this,(function(){t=new(o())(t);var r=e.getLength(),n=e.editor.deleteText(0,r),i=e.editor.applyDelta(t),a=i.ops[i.ops.length-1];return null!=a&&"string"==typeof a.insert&&"\n"===a.insert[a.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),i.delete(1)),n.compose(i)}),r)}},{key:"setSelection",value:function(t,r,n){if(null==t)this.selection.setRange(null,r||e.sources.API);else{var o=oe(pe(t,r,n),4);t=o[0],r=o[1],n=o[3],this.selection.setRange(new Yt(t,r),n),n!==Lt.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lt.sources.API,r=(new(o())).insert(t);return this.setContents(r,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lt.sources.API;return fe.call(this,(function(){return t=new(o())(t),e.editor.applyDelta(t,r)}),r,!0)}}],i=[{key:"debug",value:function(t){!0===t&&(t="log"),xt.level(t)}},{key:"find",value:function(e){return e.__quill||t.c.find(e)}},{key:"import",value:function(t){return null==this.imports[t]&&se.error("Cannot import ".concat(t,". Are you sure it was registered?")),this.imports[t]}},{key:"register",value:function(e,r){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var i=e.attrName||e.blotName;"string"==typeof i?this.register("formats/"+i,e,r):Object.keys(e).forEach((function(t){n.register(t,e[t],r)}))}else null==this.imports[e]||o||se.warn("Overwriting ".concat(e," with"),r),this.imports[e]=r,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==r.blotName?t.c.register(r):e.startsWith("modules")&&"function"==typeof r.register&&r.register()}}],n&&ae(r.prototype,n),i&&ae(r,i),Object.defineProperty(r,"prototype",{writable:!1}),e}();function ue(t,e){if((e=s()(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e)).theme&&e.theme!==ce.DEFAULTS.theme){if(e.theme=ce.import("themes/".concat(e.theme)),null==e.theme)throw new Error("Invalid theme ".concat(e.theme,". Did you register it?"))}else e.theme=ee;var r=s()(!0,{},e.theme.DEFAULTS);[r,e].forEach((function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach((function(e){!0===t.modules[e]&&(t.modules[e]={})}))}));var n=Object.keys(r.modules).concat(Object.keys(e.modules)).reduce((function(t,e){var r=ce.import("modules/".concat(e));return null==r?se.error("Cannot load ".concat(e," module. Are you sure you registered it?")):t[e]=r.DEFAULTS||{},t}),{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=s()(!0,{},ce.DEFAULTS,{modules:n},r,e),["bounds","container","scrollingContainer"].forEach((function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))})),e.modules=Object.keys(e.modules).reduce((function(t,r){return e.modules[r]&&(t[r]=e.modules[r]),t}),{}),e}function fe(t,e,r,n){if(this.options.strict&&!this.isEnabled()&&e===Lt.sources.USER)return new(o());var i=null==r?null:this.getSelection(),a=this.editor.delta,l=t();if(null!=i&&(!0===r&&(r=i.index),null==n?i=he(i,l,e):0!==n&&(i=he(i,r,n,e)),this.setSelection(i,Lt.sources.SILENT)),l.length()>0){var s,c,u=[Lt.events.TEXT_CHANGE,l,a,e];(s=this.emitter).emit.apply(s,[Lt.events.EDITOR_CHANGE].concat(u)),e!==Lt.sources.SILENT&&(c=this.emitter).emit.apply(c,u)}return l}function pe(t,e,r,n,o){var i={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(o=n,n=r,r=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(o=n,n=r,r=e,e=0),"object"===re(r)?(i=r,o=n):"string"==typeof r&&(null!=n?i[r]=n:o=r),[t,e,i,o=o||Lt.sources.API]}function he(t,e,r,n){if(null==t)return null;var i,a;if(e instanceof o()){var l=oe([t.index,t.index+t.length].map((function(t){return e.transformPosition(t,n!==Lt.sources.USER)})),2);i=l[0],a=l[1]}else{var s=oe([t.index,t.index+t.length].map((function(t){return t<e||t===e&&n===Lt.sources.USER?t:r>=0?t+r:Math.max(e,t+r)})),2);i=s[0],a=s[1]}return new Yt(i,a-i)}function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}function ye(t,e){return ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ye(t,e)}function me(t){return me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},me(t)}ce.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},ce.events=Lt.events,ce.sources=Lt.sources,ce.version="undefined"==typeof QUILL_VERSION?"dev":QUILL_VERSION,ce.imports={delta:o(),parchment:t.c,"core/module":Wt,"core/theme":ee};var be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ye(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=me(r);if(n){var o=me(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===de(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(t.c.Container);be.allowedChildren=[D,M,be];const ge=be;function ve(t){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ve(t)}function _e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ve(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ve(o)?o:String(o)),n)}var o}function Oe(){return Oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ee(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Oe.apply(this,arguments)}function Se(t,e){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Se(t,e)}function Ee(t){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ee(t)}var we="\ufeff";const Te=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Se(t,e)}(l,e);var r,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ee(o);if(i){var r=Ee(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ve(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=a.call(this,t)).contentNode=document.createElement("span"),e.contentNode.setAttribute("contenteditable",!1),[].slice.call(e.domNode.childNodes).forEach((function(t){e.contentNode.appendChild(t)})),e.leftGuard=document.createTextNode(we),e.rightGuard=document.createTextNode(we),e.domNode.appendChild(e.leftGuard),e.domNode.appendChild(e.contentNode),e.domNode.appendChild(e.rightGuard),e}return r=l,(n=[{key:"index",value:function(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:Oe(Ee(l.prototype),"index",this).call(this,t,e)}},{key:"restore",value:function(e){var r,n,o=e.data.split(we).join("");if(e===this.leftGuard)if(this.prev instanceof _){var i=this.prev.length();this.prev.insertAt(i,o),r={startNode:this.prev.domNode,startOffset:i+o.length}}else n=document.createTextNode(o),this.parent.insertBefore(t.c.create(n),this),r={startNode:n,startOffset:o.length};else e===this.rightGuard&&(this.next instanceof _?(this.next.insertAt(0,o),r={startNode:this.next.domNode,startOffset:o.length}):(n=document.createTextNode(o),this.parent.insertBefore(t.c.create(n),this.next),r={startNode:n,startOffset:o.length}));return e.data=we,r}},{key:"update",value:function(t,e){var r=this;t.forEach((function(t){if("characterData"===t.type&&(t.target===r.leftGuard||t.target===r.rightGuard)){var n=r.restore(t.target);n&&(e.range=n)}}))}}])&&_e(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),l}(t.c.Embed);function xe(t){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(t)}function Ae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==xe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==xe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===xe(o)?o:String(o)),n)}var o}function Ne(){return Ne="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ke(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ne.apply(this,arguments)}function Ce(t,e){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ce(t,e)}function ke(t){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ke(t)}var Pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ce(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ke(n);if(o){var r=ke(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"value",value:function(t){var e=Ne(ke(a.prototype),"value",this).call(this,t);return e.startsWith("rgb(")?"#"+(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map((function(t){return("00"+parseInt(t).toString(16)).slice(-2)})).join(""):e}}])&&Ae(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(t.c.Attributor.Style),je=(new t.c.Attributor.Class("color","ql-color",{scope:t.c.Scope.INLINE}),new Pe("color","color",{scope:t.c.Scope.INLINE})),Re=(new t.c.Attributor.Class("background","ql-bg",{scope:t.c.Scope.INLINE}),new Pe("background","background-color",{scope:t.c.Scope.INLINE}));function Le(t){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Le(t)}function Ie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Le(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Le(o)?o:String(o)),n)}var o}function Fe(){return Fe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=De(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Fe.apply(this,arguments)}function Me(t,e){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Me(t,e)}function De(t){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},De(t)}var We=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Me(t,e)}(l,t);var e,r,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=De(o);if(i){var r=De(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Le(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return e=l,n=[{key:"create",value:function(){return Fe(De(l),"create",this).call(this)}},{key:"formats",value:function(){return!0}}],(r=[{key:"optimize",value:function(t){Fe(De(l.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}])&&Ie(e.prototype,r),n&&Ie(e,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(A);We.blotName="bold",We.tagName=["STRONG","B"];const Be=We;function qe(t){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qe(t)}function Ue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==qe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===qe(o)?o:String(o)),n)}var o}function Ve(){return Ve="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=He(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ve.apply(this,arguments)}function ze(t,e){return ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ze(t,e)}function He(t){return He=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},He(t)}var Ge={scope:t.c.Scope.INLINE,whitelist:["serif","monospace"]},Ke=(new t.c.Attributor.Class("font","ql-font",Ge),function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ze(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=He(n);if(o){var r=He(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===qe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"value",value:function(t){return Ve(He(a.prototype),"value",this).call(this,t).replace(/["']/g,"")}}])&&Ue(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(t.c.Attributor.Style)),$e=new Ke("font","font-family",Ge);function Ye(t){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ye(t)}function Je(t,e){return Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Je(t,e)}function Qe(t){return Qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qe(t)}var Xe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Je(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qe(r);if(n){var o=Qe(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ye(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Be);Xe.blotName="italic",Xe.tagName=["EM","I"];const Ze=Xe;function tr(t){return tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr(t)}function er(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==tr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==tr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===tr(o)?o:String(o)),n)}var o}function rr(){return rr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=or(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},rr.apply(this,arguments)}function nr(t,e){return nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nr(t,e)}function or(t){return or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},or(t)}var ir=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nr(t,e)}(l,t);var e,r,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=or(o);if(i){var r=or(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===tr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return e=l,n=[{key:"create",value:function(t){var e=rr(or(l),"create",this).call(this,t);return t=this.sanitize(t),e.setAttribute("href",t),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return function(t,e){var r=document.createElement("a");r.href=t;var n=r.href.slice(0,r.href.indexOf(":"));return e.indexOf(n)>-1}(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}],(r=[{key:"format",value:function(t,e){if(t!==this.statics.blotName||!e)return rr(or(l.prototype),"format",this).call(this,t,e);e=this.constructor.sanitize(e),this.domNode.setAttribute("href",e)}}])&&er(e.prototype,r),n&&er(e,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(A);function ar(t){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ar(t)}function lr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ur(n.key),n)}}function cr(t,e,r){return e&&sr(t.prototype,e),r&&sr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ur(t){var e=function(t,e){if("object"!==ar(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ar(e)?e:String(e)}function fr(){return fr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},fr.apply(this,arguments)}function pr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hr(t,e)}function hr(t,e){return hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hr(t,e)}function dr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=yr(t);if(e){var o=yr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ar(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function yr(t){return yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yr(t)}ir.blotName="link",ir.tagName="A",ir.SANITIZED_URL="about:blank",ir.PROTOCOL_WHITELIST=["http","https","mailto","tel"];var mr=function(e){pr(n,e);var r=dr(n);function n(){return lr(this,n),r.apply(this,arguments)}return cr(n,[{key:"format",value:function(e,r){e!==br.blotName||r?fr(yr(n.prototype),"format",this).call(this,e,r):this.replaceWith(t.c.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():fr(yr(n.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,e){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,e),this):(this.parent.unwrap(),fr(yr(n.prototype),"replaceWith",this).call(this,t,e))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:fr(yr(n),"formats",this).call(this,t)}}]),n}(D);mr.blotName="list-item",mr.tagName="LI";var br=function(e){pr(n,e);var r=dr(n);function n(e){var o;lr(this,n),o=r.call(this,e);var i=function(r){if(r.target.parentNode===e){var n=o.statics.formats(e),i=t.c.find(r.target);"checked"===n?i.format("list","unchecked"):"unchecked"===n&&i.format("list","checked")}};return e.addEventListener("touchstart",i),e.addEventListener("mousedown",i),o}return cr(n,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return t={},e=this.statics.blotName,r=this.statics.formats(this.domNode),(e=ur(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t;var t,e,r}},{key:"insertBefore",value:function(t,e){if(t instanceof mr)fr(yr(n.prototype),"insertBefore",this).call(this,t,e);else{var r=null==e?this.length():e.offset(this),o=this.split(r);o.parent.insertBefore(t,o)}}},{key:"optimize",value:function(t){fr(yr(n.prototype),"optimize",this).call(this,t);var e=this.next;null!=e&&e.prev===this&&e.statics.blotName===this.statics.blotName&&e.domNode.tagName===this.domNode.tagName&&e.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(e.moveChildren(this),e.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var r=t.c.create(this.statics.defaultChild);e.moveChildren(r),this.appendChild(r)}fr(yr(n.prototype),"replace",this).call(this,e)}}],[{key:"create",value:function(t){var e="ordered"===t?"OL":"UL",r=fr(yr(n),"create",this).call(this,e);return"checked"!==t&&"unchecked"!==t||r.setAttribute("data-checked","checked"===t),r}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),n}(ge);function gr(t){return gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gr(t)}function vr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==gr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==gr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===gr(o)?o:String(o)),n)}var o}function _r(){return _r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Sr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},_r.apply(this,arguments)}function Or(t,e){return Or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Or(t,e)}function Sr(t){return Sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sr(t)}br.blotName="list",br.scope=t.c.Scope.BLOCK_BLOT,br.tagName=["OL","UL"],br.defaultChild="list-item",br.allowedChildren=[mr];var Er=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Or(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Sr(n);if(o){var r=Sr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===gr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,r=[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):_r(Sr(a),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}],null&&vr(e.prototype,null),r&&vr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(A);Er.blotName="script",Er.tagName=["SUB","SUP"];const wr=Er;new t.c.Attributor.Class("size","ql-size",{scope:t.c.Scope.INLINE,whitelist:["small","large","huge"]});var Tr=new t.c.Attributor.Style("size","font-size",{scope:t.c.Scope.INLINE,whitelist:["10px","18px","32px"]});function xr(t){return xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xr(t)}function Ar(t,e){return Ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ar(t,e)}function Nr(t){return Nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nr(t)}var Cr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ar(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Nr(r);if(n){var o=Nr(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===xr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(A);Cr.blotName="strike",Cr.tagName="S";const kr=Cr;function Pr(t){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pr(t)}function jr(t,e){return jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jr(t,e)}function Rr(t){return Rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rr(t)}var Lr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jr(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Rr(r);if(n){var o=Rr(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Pr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(A);Lr.blotName="underline",Lr.tagName="U";const Ir=Lr;var Fr={scope:t.c.Scope.BLOCK,whitelist:["right","center","justify"]},Mr=new t.c.Attributor.Attribute("align","align",Fr),Dr=(new t.c.Attributor.Class("align","ql-align",Fr),new t.c.Attributor.Style("align","text-align",Fr)),Wr={scope:t.c.Scope.BLOCK,whitelist:["rtl"]},Br=new t.c.Attributor.Attribute("direction","dir",Wr),qr=(new t.c.Attributor.Class("direction","ql-direction",Wr),new t.c.Attributor.Style("direction","direction",Wr));function Ur(t){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ur(t)}function Vr(t,e,r){return(e=Kr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Hr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hr(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kr(n.key),n)}}function Kr(t){var e=function(t,e){if("object"!==Ur(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ur(e)?e:String(e)}function $r(t,e){return $r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$r(t,e)}function Yr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jr(t){return Jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jr(t)}var Qr=xt("quill:clipboard"),Xr="__ql-matcher",Zr=[[Node.TEXT_NODE,function(t,e){var r=t.data;if("O:P"===t.parentNode.tagName)return e.insert(r.trim());if(0===r.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!on(t.parentNode).whiteSpace.startsWith("pre")){var n=function(t,e){return(e=e.replace(/[^\u00a0]/g,"")).length<1&&t?" ":e};r=(r=r.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,n.bind(n,!0)),(null==t.previousSibling&&ln(t.parentNode)||null!=t.previousSibling&&ln(t.previousSibling))&&(r=r.replace(/^\s+/,n.bind(n,!1))),(null==t.nextSibling&&ln(t.parentNode)||null!=t.nextSibling&&ln(t.nextSibling))&&(r=r.replace(/\s+$/,n.bind(n,!1)))}return e.insert(r)}],[Node.TEXT_NODE,un],["br",function(t,e){return an(e,"\n")||e.insert("\n"),e}],[Node.ELEMENT_NODE,un],[Node.ELEMENT_NODE,function(e,r){var n=t.c.query(e);if(null==n)return r;if(n.prototype instanceof t.c.Embed){var i={},a=n.value(e);null!=a&&(i[n.blotName]=a,r=(new(o())).insert(i,n.formats(e)))}else"function"==typeof n.formats&&(r=nn(r,n.blotName,n.formats(e)));return r}],[Node.ELEMENT_NODE,fn],[Node.ELEMENT_NODE,function(e,r){var n=t.c.Attributor.Attribute.keys(e),o=t.c.Attributor.Class.keys(e),i=t.c.Attributor.Style.keys(e),a={};return n.concat(o).concat(i).forEach((function(r){var n=t.c.query(r,t.c.Scope.ATTRIBUTE);null!=n&&(a[n.attrName]=n.value(e),a[n.attrName])||(null==(n=tn[r])||n.attrName!==r&&n.keyName!==r||(a[n.attrName]=n.value(e)||void 0),null==(n=en[r])||n.attrName!==r&&n.keyName!==r||(n=en[r],a[n.attrName]=n.value(e)||void 0))})),Object.keys(a).length>0&&(r=nn(r,a)),r}],[Node.ELEMENT_NODE,function(t,e){var r={},n=t.style||{};return n.fontStyle&&"italic"===on(t).fontStyle&&(r.italic=!0),n.fontWeight&&(on(t).fontWeight.startsWith("bold")||parseInt(on(t).fontWeight)>=700)&&(r.bold=!0),Object.keys(r).length>0&&(e=nn(e,r)),parseFloat(n.textIndent||0)>0&&(e=(new(o())).insert("\t").concat(e)),e}],["li",function(e,r){var n=t.c.query(e);if(null==n||"list-item"!==n.blotName||!an(r,"\n"))return r;for(var i=-1,a=e.parentNode;!a.classList.contains("ql-clipboard");)"list"===(t.c.query(a)||{}).blotName&&(i+=1),a=a.parentNode;return i<=0?r:r.compose((new(o())).retain(r.length()-1).retain(1,{indent:i}))}],["b",cn.bind(cn,"bold")],["i",cn.bind(cn,"italic")],["style",function(){return new(o())}]],tn=[Mr,Br].reduce((function(t,e){return t[e.keyName]=e,t}),{}),en=[Dr,Re,je,qr,$e,Tr].reduce((function(t,e){return t[e.keyName]=e,t}),{}),rn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$r(t,e)}(l,t);var e,r,n,i,a=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Jr(n);if(i){var r=Jr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Yr(t)}(this,t)});function l(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(r=a.call(this,t,e)).quill.root.addEventListener("paste",r.onPaste.bind(Yr(r))),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],Zr.concat(r.options.matchers).forEach((function(t){var n=zr(t,2),o=n[0],i=n[1];(e.matchVisual||i!==fn)&&r.addMatcher(o,i)})),r}return e=l,r=[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){if("string"==typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[X.blotName]){var r=this.container.innerText;return this.container.innerHTML="",(new(o())).insert(r,Vr({},X.blotName,e[X.blotName]))}var n=zr(this.prepareMatching(),2),i=n[0],a=n[1],l=sn(this.container,i,a);return an(l,"\n")&&null==l.ops[l.ops.length-1].attributes&&(l=l.compose((new(o())).retain(l.length()-1).delete(1))),Qr.log("convert",this.container.innerHTML,l),this.container.innerHTML="",l}},{key:"dangerouslyPasteHTML",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ce.sources.API;if("string"==typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,ce.sources.SILENT);else{var n=this.convert(e);this.quill.updateContents((new(o())).retain(t).concat(n),r),this.quill.setSelection(t+n.length(),ce.sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var r=this.quill.getSelection(),n=(new(o())).retain(r.index),i=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(ce.sources.SILENT),setTimeout((function(){n=n.concat(e.convert()).delete(r.length),e.quill.updateContents(n,ce.sources.USER),e.quill.setSelection(n.length()-r.length,ce.sources.SILENT),e.quill.scrollingContainer.scrollTop=i,e.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],r=[];return this.matchers.forEach((function(n){var o=zr(n,2),i=o[0],a=o[1];switch(i){case Node.TEXT_NODE:r.push(a);break;case Node.ELEMENT_NODE:e.push(a);break;default:[].forEach.call(t.container.querySelectorAll(i),(function(t){t[Xr]=t[Xr]||[],t[Xr].push(a)}))}})),[e,r]}}],r&&Gr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(Wt);function nn(t,e,r){return"object"===Ur(e)?Object.keys(e).reduce((function(t,r){return nn(t,r,e[r])}),t):t.reduce((function(t,n){return n.attributes&&n.attributes[e]?t.push(n):t.insert(n.insert,s()({},Vr({},e,r),n.attributes))}),new(o()))}function on(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};var e="__ql-computed-style";return t[e]||(t[e]=window.getComputedStyle(t))}function an(t,e){for(var r="",n=t.ops.length-1;n>=0&&r.length<e.length;--n){var o=t.ops[n];if("string"!=typeof o.insert)break;r=o.insert+r}return r.slice(-1*e.length)===e}function ln(t){if(0===t.childNodes.length)return!1;var e=on(t);return["block","list-item"].indexOf(e.display)>-1}function sn(t,e,r){return t.nodeType===t.TEXT_NODE?r.reduce((function(e,r){return r(t,e)}),new(o())):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],(function(n,o){var i=sn(o,e,r);return o.nodeType===t.ELEMENT_NODE&&(i=e.reduce((function(t,e){return e(o,t)}),i),i=(o[Xr]||[]).reduce((function(t,e){return e(o,t)}),i)),n.concat(i)}),new(o())):new(o())}function cn(t,e,r){return nn(r,t,!0)}function un(t,e){return an(e,"\n")||(ln(t)||e.length()>0&&t.nextSibling&&ln(t.nextSibling))&&e.insert("\n"),e}function fn(t,e){if(ln(t)&&null!=t.nextElementSibling&&!an(e,"\n\n")){var r=t.offsetHeight+parseFloat(on(t).marginTop)+parseFloat(on(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*r&&e.insert("\n")}return e}function pn(t){return pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(t)}function hn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==pn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==pn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===pn(o)?o:String(o)),n)}var o}function dn(t,e){return dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dn(t,e)}function yn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mn(t){return mn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mn(t)}rn.DEFAULTS={matchers:[],matchVisual:!0};var bn=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dn(t,e)}(l,e);var r,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mn(o);if(i){var r=mn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===pn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return yn(t)}(this,t)});function l(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(r=a.call(this,t,e)).lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(ce.events.EDITOR_CHANGE,(function(t,e,n,o){t!==ce.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&o!==ce.sources.USER?r.transform(e):r.record(e,n))})),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(yn(r))),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(yn(r))),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(yn(r))),r}return r=l,(n=[{key:"change",value:function(e,r){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[r].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],ce.sources.USER),this.ignoreChange=!1;var o=function(e){var r=e.reduce((function(t,e){return t+(e.delete||0)}),0),n=e.length()-r;return function(e){var r=e.ops[e.ops.length-1];return null!=r&&(null!=r.insert?"string"==typeof r.insert&&r.insert.endsWith("\n"):null!=r.attributes&&Object.keys(r.attributes).some((function(e){return null!=t.c.query(e,t.c.Scope.BLOCK)})))}(e)&&(n-=1),n}(n[e]);this.quill.setSelection(o)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var r=this.quill.getContents().diff(e),n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){var o=this.stack.undo.pop();r=r.compose(o.undo),t=o.redo.compose(t)}else this.lastRecorded=n;this.stack.undo.push({redo:t,undo:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})),this.stack.redo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}])&&hn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),l}(Wt);function gn(t,e,r){return(e=En(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vn(t){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn(t)}function _n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return On(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?On(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,En(n.key),n)}}function En(t){var e=function(t,e){if("object"!==vn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==vn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===vn(e)?e:String(e)}function wn(t,e){return wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wn(t,e)}function Tn(t){return Tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tn(t)}bn.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};var xn=xt("quill:keyboard"),An=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Nn=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wn(t,e)}(c,e);var r,n,o,i,a,l=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Tn(i);if(a){var r=Tn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===vn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(r=l.call(this,t,e)).bindings={},Object.keys(r.options.bindings).forEach((function(e){("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist.list)&&r.options.bindings[e]&&r.addBinding(r.options.bindings[e])})),r.addBinding({key:c.keys.ENTER,shiftKey:null},Rn),r.addBinding({key:c.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:c.keys.BACKSPACE},{collapsed:!0},kn),r.addBinding({key:c.keys.DELETE},{collapsed:!0},Pn)):(r.addBinding({key:c.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},kn),r.addBinding({key:c.keys.DELETE},{collapsed:!0,suffix:/^.?$/},Pn)),r.addBinding({key:c.keys.BACKSPACE},{collapsed:!1},jn),r.addBinding({key:c.keys.DELETE},{collapsed:!1},jn),r.addBinding({key:c.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},kn),r.listen(),r}return r=c,n=[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Fn(t);if(null==n||null==n.key)return xn.warn("Attempted to add invalid keyboard binding",n);"function"==typeof e&&(e={handler:e}),"function"==typeof r&&(r={handler:r}),n=s()(n,e,r),this.bindings[n.key]=this.bindings[n.key]||[],this.bindings[n.key].push(n)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(r){if(!r.defaultPrevented){var n=r.which||r.keyCode,o=(e.bindings[n]||[]).filter((function(t){return c.match(r,t)}));if(0!==o.length){var i=e.quill.getSelection();if(null!=i&&e.quill.hasFocus()){var a=_n(e.quill.getLine(i.index),2),l=a[0],s=a[1],u=_n(e.quill.getLeaf(i.index),2),f=u[0],p=u[1],h=_n(0===i.length?[f,p]:e.quill.getLeaf(i.index+i.length),2),d=h[0],y=h[1],m=f instanceof t.c.Text?f.value().slice(0,p):"",b=d instanceof t.c.Text?d.value().slice(y):"",g={collapsed:0===i.length,empty:0===i.length&&l.length()<=1,format:e.quill.getFormat(i),offset:s,prefix:m,suffix:b};o.some((function(t){if(null!=t.collapsed&&t.collapsed!==g.collapsed)return!1;if(null!=t.empty&&t.empty!==g.empty)return!1;if(null!=t.offset&&t.offset!==g.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(t){return null==g.format[t]})))return!1}else if("object"===vn(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=g.format[e]:!1===t.format[e]?null==g.format[e]:ut()(t.format[e],g.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(g.prefix)||null!=t.suffix&&!t.suffix.test(g.suffix)||!0===t.handler.call(e,i,g))}))&&r.preventDefault()}}}}))}}],o=[{key:"match",value:function(t,e){return e=Fn(e),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(r){return!!e[r]!==t[r]&&null!==e[r]}))&&e.key===(t.which||t.keyCode)}}],n&&Sn(r.prototype,n),o&&Sn(r,o),Object.defineProperty(r,"prototype",{writable:!1}),c}(Wt);function Cn(e,r){var n,o=e===Nn.keys.LEFT?"prefix":"suffix";return gn(n={key:e,shiftKey:r,altKey:null},o,/^$/),gn(n,"handler",(function(n){var o=n.index;return e===Nn.keys.RIGHT&&(o+=n.length+1),!(_n(this.quill.getLeaf(o),1)[0]instanceof t.c.Embed&&(e===Nn.keys.LEFT?r?this.quill.setSelection(n.index-1,n.length+1,ce.sources.USER):this.quill.setSelection(n.index-1,ce.sources.USER):r?this.quill.setSelection(n.index,n.length+1,ce.sources.USER):this.quill.setSelection(n.index+n.length+1,ce.sources.USER),1))})),n}function kn(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var r=_n(this.quill.getLine(t.index),1)[0],n={};if(0===e.offset){var o=_n(this.quill.getLine(t.index-1),1)[0];if(null!=o&&o.length()>1){var i=r.formats(),l=this.quill.getFormat(t.index-1,1);n=a().attributes.diff(i,l)||{}}}var s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-s,s,ce.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index-s,s,n,ce.sources.USER),this.quill.focus()}}function Pn(t,e){var r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-r)){var n={},o=0,i=_n(this.quill.getLine(t.index),1)[0];if(e.offset>=i.length()-1){var l=_n(this.quill.getLine(t.index+1),1)[0];if(l){var s=i.formats(),c=this.quill.getFormat(t.index,1);n=a().attributes.diff(s,c)||{},o=l.length()}}this.quill.deleteText(t.index,r,ce.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index+o-1,r,n,ce.sources.USER)}}function jn(t){var e=this.quill.getLines(t),r={};if(e.length>1){var n=e[0].formats(),o=e[e.length-1].formats();r=a().attributes.diff(o,n)||{}}this.quill.deleteText(t,ce.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(t.index,1,r,ce.sources.USER),this.quill.setSelection(t.index,ce.sources.SILENT),this.quill.focus()}function Rn(e,r){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var o=Object.keys(r.format).reduce((function(e,n){return t.c.query(n,t.c.Scope.BLOCK)&&!Array.isArray(r.format[n])&&(e[n]=r.format[n]),e}),{});this.quill.insertText(e.index,"\n",o,ce.sources.USER),this.quill.setSelection(e.index+1,ce.sources.SILENT),this.quill.focus(),Object.keys(r.format).forEach((function(t){null==o[t]&&(Array.isArray(r.format[t])||"link"!==t&&n.quill.format(t,r.format[t],ce.sources.USER))}))}function Ln(e){return{key:Nn.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(r){var n=t.c.query("code-block"),o=r.index,i=r.length,a=_n(this.quill.scroll.descendant(n,o),2),l=a[0],s=a[1];if(null!=l){var c=this.quill.getIndex(l),u=l.newlineIndex(s,!0)+1,f=l.newlineIndex(c+s+i),p=l.domNode.textContent.slice(u,f).split("\n");s=0,p.forEach((function(t,r){e?(l.insertAt(u+s,n.TAB),s+=n.TAB.length,0===r?o+=n.TAB.length:i+=n.TAB.length):t.startsWith(n.TAB)&&(l.deleteAt(u+s,n.TAB.length),s-=n.TAB.length,0===r?o-=n.TAB.length:i-=n.TAB.length),s+=t.length+1})),this.quill.update(ce.sources.USER),this.quill.setSelection(o,i,ce.sources.SILENT)}}}}function In(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,r){this.quill.format(t,!r.format[t],ce.sources.USER)}}}function Fn(t){if("string"==typeof t||"number"==typeof t)return Fn({key:t});if("object"===vn(t)&&(t=st()(t,!1)),"string"==typeof t.key)if(null!=Nn.keys[t.key.toUpperCase()])t.key=Nn.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[An]=t.shortKey,delete t.shortKey),t}Nn.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Nn.DEFAULTS={bindings:{bold:In("bold"),italic:In("italic"),underline:In("underline"),indent:{key:Nn.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",ce.sources.USER)}},outdent:{key:Nn.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",ce.sources.USER)}},"outdent backspace":{key:Nn.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",ce.sources.USER):null!=e.format.list&&this.quill.format("list",!1,ce.sources.USER)}},"indent code-block":Ln(!0),"outdent code-block":Ln(!1),"remove tab":{key:Nn.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,ce.sources.USER)}},tab:{key:Nn.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new(o())).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,ce.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,ce.sources.SILENT)}},"list empty enter":{key:Nn.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,ce.sources.USER),e.format.indent&&this.quill.format("indent",!1,ce.sources.USER)}},"checklist enter":{key:Nn.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=_n(this.quill.getLine(t.index),2),r=e[0],n=e[1],i=s()({},r.formats(),{list:"checked"}),a=(new(o())).retain(t.index).insert("\n",i).retain(r.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,ce.sources.USER),this.quill.setSelection(t.index+1,ce.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Nn.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var r=_n(this.quill.getLine(t.index),2),n=r[0],i=r[1],a=(new(o())).retain(t.index).insert("\n",e.format).retain(n.length()-i-1).retain(1,{header:null});this.quill.updateContents(a,ce.sources.USER),this.quill.setSelection(t.index+1,ce.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var r,n=e.prefix.length,i=_n(this.quill.getLine(t.index),2),a=i[0],l=i[1];if(l>n)return!0;switch(e.prefix.trim()){case"[]":case"[ ]":r="unchecked";break;case"[x]":r="checked";break;case"-":case"*":r="bullet";break;default:r="ordered"}this.quill.insertText(t.index," ",ce.sources.USER),this.quill.history.cutoff();var s=(new(o())).retain(t.index-l).delete(n+1).retain(a.length()-2-l).retain(1,{list:r});this.quill.updateContents(s,ce.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,ce.sources.SILENT)}},"code exit":{key:Nn.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=_n(this.quill.getLine(t.index),2),r=e[0],n=e[1],i=(new(o())).retain(t.index+r.length()-n-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(i,ce.sources.USER)}},"embed left":Cn(Nn.keys.LEFT,!1),"embed left shift":Cn(Nn.keys.LEFT,!0),"embed right":Cn(Nn.keys.RIGHT,!1),"embed right shift":Cn(Nn.keys.RIGHT,!0)}};var Mn=function(t,e){return Mn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},Mn(t,e)};function Dn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}Mn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var Wn,Bn=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return Dn(r,e),r.create=function(t){var r="disc"===t?"bullet":"ordered",n=e.create.call(this,r);return n.style.listStyleType=t,n},r.formats=function(t){var e;if(null===(e=t.style)||void 0===e?void 0:e.listStyleType)return t.style.listStyleType},r.prototype.optimize=function(t){ge.prototype.optimize.call(this,t);var e=this.next;null!=e&&e.prev===this&&e.statics.blotName===this.statics.blotName&&e.domNode.tagName===this.domNode.tagName&&e.domNode.style.listStyleType===this.domNode.style.listStyleType&&(e.moveChildren(this),e.remove())},r.blotName="list",r.scope=t.c.Scope.BLOCK_BLOT,r.tagName=["OL","UL"],r.defaultChild="list-item",r.allowedChildren=[mr],r}(br),qn=!1,Un=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];qn&&console.error.apply(console,t)};!function(t){t[t.None=0]="None",t[t.Redux=1]="Redux",t[t.Comments=2]="Comments"}(Wn||(Wn={}));var Vn=Boolean,zn=function t(e,r,n){var o=function(t,e,r){return new Error(t)}(e);return o.name="StructuredError",o.innerException=n,o.tag=r,Object.setPrototypeOf(o,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(o,t),o};function Hn(t){if(function(t,e){return!(!t||!(t instanceof zn||void 0!==t.isStructuredError))}(t))return t.stringify();if(t instanceof Error){var e=zn.enableUnknownMessageLogging&&t.message?" - ".concat(t.message):"";return"".concat(t.name).concat(e,":\n").concat(zn.enableStackLogging?(r=t.stack,void 0===n&&(n=0),r?r.split("\n").slice(1+n,qn?void 0:2+n).join("\n"):"<unable to get stack>"):"")}var r,n;return zn.enableUnknownMessageLogging&&"string"==typeof t?t:"Unknown error"}function Gn(t){return Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gn(t)}function Kn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return $n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Gn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Gn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Gn(o)?o:String(o)),n)}var o}function Jn(){return Jn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Jn.apply(this,arguments)}function Qn(t,e){return Qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qn(t,e)}function Xn(t){return Xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xn(t)}function Zn(t){return t instanceof D||t instanceof M}zn.enableStackLogging=qn,zn.enableMessageLogging=qn,zn.enableUnknownMessageLogging=qn,zn.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0},stringify:{value:function(){return t=this.tag,e=this.stack,void 0,r=this.innerException,[void 0,"Tag: ".concat(t),zn.enableStackLogging?e:void 0,r?"----------\nInner exception: ".concat(Hn(r)):void 0].filter(Vn).join("\n");var t,e,r},enumerable:!1,writable:!0,configurable:!0},isStructuredError:{value:!0,enumerable:!1,writable:!1,configurable:!1}}),Object.setPrototypeOf?Object.setPrototypeOf(zn,Error):zn.__proto__=Error;var to=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qn(t,e)}(l,e);var r,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xn(o);if(i){var r=Xn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Gn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(r=a.call(this,t)).emitter=e.emitter,Array.isArray(e.whitelist)&&(r.whitelist=e.whitelist.reduce((function(t,e){return t[e]=!0,t}),{})),r.domNode.addEventListener("DOMNodeInserted",(function(){})),r.optimize(),r.enable(),r}return r=l,n=[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,e){var r=Kn(this.line(t),2),n=r[0],o=r[1],i=Kn(this.line(t+e),1)[0];if(Jn(Xn(l.prototype),"deleteAt",this).call(this,t,e),null!=i&&n!==i&&o>0){if(n instanceof M||i instanceof M)return void this.optimize();if(n instanceof X){var a=n.newlineIndex(n.length(),!0);if(a>-1&&(n=n.split(a+1))===i)return void this.optimize()}else if(i instanceof X){var s=i.newlineIndex(0);s>-1&&i.split(s+1)}var c=i.children.head instanceof y?null:i.children.head;n.moveChildren(i,c),n.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,e,r,n){(null==this.whitelist||this.whitelist[r])&&(Jn(Xn(l.prototype),"formatAt",this).call(this,t,e,r,n),this.optimize())}},{key:"insertAt",value:function(e,r,n){if(null==n||null==this.whitelist||this.whitelist[r]){if(e>=this.length())if(null==n||null==t.c.query(r,t.c.Scope.BLOCK)){var o=t.c.create(this.statics.defaultChild);this.appendChild(o),null==n&&r.endsWith("\n")&&(r=r.slice(0,-1)),o.insertAt(0,r,n)}else{var i=t.c.create(r,n);this.appendChild(i)}else Jn(Xn(l.prototype),"insertAt",this).call(this,e,r,n);this.optimize()}}},{key:"insertBefore",value:function(e,r){if(e.statics.scope===t.c.Scope.INLINE_BLOT){var n=t.c.create(this.statics.defaultChild);n.appendChild(e),e=n}Jn(Xn(l.prototype),"insertBefore",this).call(this,e,r)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(Zn,t)}},{key:"lines",value:function(){return function e(r,n,o){var i=[],a=o;return r.children.forEachAt(n,o,(function(r,n,o){Zn(r)?i.push(r):r instanceof t.c.Container&&(i=i.concat(e(r,n,a))),a-=o})),i}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(Jn(Xn(l.prototype),"optimize",this).call(this,t,e),t.length>0&&this.emitter.emit(Lt.events.SCROLL_OPTIMIZE,t,e))}},{key:"path",value:function(t){return Jn(Xn(l.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var e=Lt.sources.USER;"string"==typeof t&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(Lt.events.SCROLL_BEFORE_UPDATE,e,t),Jn(Xn(l.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(Lt.events.SCROLL_UPDATE,e,t)}}}],n&&Yn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),l}(t.c.Scroll);to.blotName="scroll",to.className="ql-editor",to.tagName="DIV",to.defaultChild="block",to.allowedChildren=[D,M,ge];var eo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dn(e,t),e.create=function(e){t.create.call(this,e)},e.prototype.deleteAt=function(e,r){var n;try{t.prototype.deleteAt.call(this,e,r)}catch(t){Un(null!==(n=null==t?void 0:t.message)&&void 0!==n?n:Hn(t))}},e.prototype.formatAt=function(e,r,n,o){var i;try{t.prototype.formatAt.call(this,e,r,n,o)}catch(t){Un(null!==(i=null==t?void 0:t.message)&&void 0!==i?i:Hn(t))}},e.prototype.update=function(e,r){var n;try{t.prototype.update.call(this,e,r)}catch(t){Un(null!==(n=null==t?void 0:t.message)&&void 0!==n?n:Hn(t))}},e}(to);ce.register({"blots/block":D,"blots/block/embed":M,"blots/break":y,"blots/container":ge,"blots/cursor":at,"blots/embed":Te,"blots/inline":A,"blots/scroll":eo,"blots/text":_,"formats/link":ir,"formats/list":Bn,"formats/list/item":mr,"formats/color":je,"formats/font":$e,"formats/size":Tr,"formats/background":Re,"formats/bold":Be,"formats/italic":Ze,"formats/underline":Ir,"formats/strike":kr,"formats/script":wr,"modules/clipboard":rn,"modules/history":bn,"modules/keyboard":Nn}),t.c.register(D,y,at,A,eo,_);const ro=ce})(),n})(),t.exports=e()},3765:function(t){t.exports=function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,r){return e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(t,r)}function r(t,n,o){return r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,r,n){var o=[null];o.push.apply(o,r);var i=new(Function.bind.apply(t,o));return n&&e(i,n.prototype),i},r.apply(null,arguments)}function n(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var i=Object.hasOwnProperty,a=Object.setPrototypeOf,l=Object.isFrozen,s=Object.getPrototypeOf,c=Object.getOwnPropertyDescriptor,u=Object.freeze,f=Object.seal,p=Object.create,h="undefined"!=typeof Reflect&&Reflect,d=h.apply,y=h.construct;d||(d=function(t,e,r){return t.apply(e,r)}),u||(u=function(t){return t}),f||(f=function(t){return t}),y||(y=function(t,e){return r(t,n(e))});var m,b=N(Array.prototype.forEach),g=N(Array.prototype.pop),v=N(Array.prototype.push),_=N(String.prototype.toLowerCase),O=N(String.prototype.toString),S=N(String.prototype.match),E=N(String.prototype.replace),w=N(String.prototype.indexOf),T=N(String.prototype.trim),x=N(RegExp.prototype.test),A=(m=TypeError,function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return y(m,e)});function N(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return d(t,e,n)}}function C(t,e,r){var n;r=null!==(n=r)&&void 0!==n?n:_,a&&a(t,null);for(var o=e.length;o--;){var i=e[o];if("string"==typeof i){var s=r(i);s!==i&&(l(e)||(e[o]=s),i=s)}t[i]=!0}return t}function k(t){var e,r=p(null);for(e in t)!0===d(i,t,[e])&&(r[e]=t[e]);return r}function P(t,e){for(;null!==t;){var r=c(t,e);if(r){if(r.get)return N(r.get);if("function"==typeof r.value)return N(r.value)}t=s(t)}return function(t){return console.warn("fallback value for",t),null}}var j=u(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),R=u(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),L=u(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),I=u(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),F=u(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),M=u(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),D=u(["#text"]),W=u(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),B=u(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),q=u(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),U=u(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),V=f(/\{\{[\w\W]*|[\w\W]*\}\}/gm),z=f(/<%[\w\W]*|[\w\W]*%>/gm),H=f(/\${[\w\W]*}/gm),G=f(/^data-[\-\w.\u00B7-\uFFFF]/),K=f(/^aria-[\-\w]+$/),$=f(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Y=f(/^(?:\w+script|data):/i),J=f(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Q=f(/^html$/i),X=f(/^[a-z][.\w]*(-[.\w]+)+$/i);return function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,o=function(t){return e(t)};if(o.version="2.5.7",o.removed=[],!r||!r.document||9!==r.document.nodeType)return o.isSupported=!1,o;var i=r.document,a=r.document,l=r.DocumentFragment,s=r.HTMLTemplateElement,c=r.Node,f=r.Element,p=r.NodeFilter,h=r.NamedNodeMap,d=void 0===h?r.NamedNodeMap||r.MozNamedAttrMap:h,y=r.HTMLFormElement,m=r.DOMParser,N=r.trustedTypes,Z=f.prototype,tt=P(Z,"cloneNode"),et=P(Z,"nextSibling"),rt=P(Z,"childNodes"),nt=P(Z,"parentNode");if("function"==typeof s){var ot=a.createElement("template");ot.content&&ot.content.ownerDocument&&(a=ot.content.ownerDocument)}var it=function(e,r){if("object"!==t(e)||"function"!=typeof e.createPolicy)return null;var n=null,o="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(o)&&(n=r.currentScript.getAttribute(o));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(N,i),at=it?it.createHTML(""):"",lt=a,st=lt.implementation,ct=lt.createNodeIterator,ut=lt.createDocumentFragment,ft=lt.getElementsByTagName,pt=i.importNode,ht={};try{ht=k(a).documentMode?a.documentMode:{}}catch(t){}var dt={};o.isSupported="function"==typeof nt&&st&&void 0!==st.createHTMLDocument&&9!==ht;var yt,mt,bt=V,gt=z,vt=H,_t=G,Ot=K,St=Y,Et=J,wt=X,Tt=$,xt=null,At=C({},[].concat(n(j),n(R),n(L),n(F),n(D))),Nt=null,Ct=C({},[].concat(n(W),n(B),n(q),n(U))),kt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Pt=null,jt=null,Rt=!0,Lt=!0,It=!1,Ft=!0,Mt=!1,Dt=!0,Wt=!1,Bt=!1,qt=!1,Ut=!1,Vt=!1,zt=!1,Ht=!0,Gt=!1,Kt=!0,$t=!1,Yt={},Jt=null,Qt=C({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Xt=null,Zt=C({},["audio","video","img","source","image","track"]),te=null,ee=C({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),re="http://www.w3.org/1998/Math/MathML",ne="http://www.w3.org/2000/svg",oe="http://www.w3.org/1999/xhtml",ie=oe,ae=!1,le=null,se=C({},[re,ne,oe],O),ce=["application/xhtml+xml","text/html"],ue=null,fe=a.createElement("form"),pe=function(t){return t instanceof RegExp||t instanceof Function},he=function(e){ue&&ue===e||(e&&"object"===t(e)||(e={}),e=k(e),yt=yt=-1===ce.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,mt="application/xhtml+xml"===yt?O:_,xt="ALLOWED_TAGS"in e?C({},e.ALLOWED_TAGS,mt):At,Nt="ALLOWED_ATTR"in e?C({},e.ALLOWED_ATTR,mt):Ct,le="ALLOWED_NAMESPACES"in e?C({},e.ALLOWED_NAMESPACES,O):se,te="ADD_URI_SAFE_ATTR"in e?C(k(ee),e.ADD_URI_SAFE_ATTR,mt):ee,Xt="ADD_DATA_URI_TAGS"in e?C(k(Zt),e.ADD_DATA_URI_TAGS,mt):Zt,Jt="FORBID_CONTENTS"in e?C({},e.FORBID_CONTENTS,mt):Qt,Pt="FORBID_TAGS"in e?C({},e.FORBID_TAGS,mt):{},jt="FORBID_ATTR"in e?C({},e.FORBID_ATTR,mt):{},Yt="USE_PROFILES"in e&&e.USE_PROFILES,Rt=!1!==e.ALLOW_ARIA_ATTR,Lt=!1!==e.ALLOW_DATA_ATTR,It=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ft=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Mt=e.SAFE_FOR_TEMPLATES||!1,Dt=!1!==e.SAFE_FOR_XML,Wt=e.WHOLE_DOCUMENT||!1,Ut=e.RETURN_DOM||!1,Vt=e.RETURN_DOM_FRAGMENT||!1,zt=e.RETURN_TRUSTED_TYPE||!1,qt=e.FORCE_BODY||!1,Ht=!1!==e.SANITIZE_DOM,Gt=e.SANITIZE_NAMED_PROPS||!1,Kt=!1!==e.KEEP_CONTENT,$t=e.IN_PLACE||!1,Tt=e.ALLOWED_URI_REGEXP||Tt,ie=e.NAMESPACE||oe,kt=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&pe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(kt.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&pe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(kt.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(kt.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Mt&&(Lt=!1),Vt&&(Ut=!0),Yt&&(xt=C({},n(D)),Nt=[],!0===Yt.html&&(C(xt,j),C(Nt,W)),!0===Yt.svg&&(C(xt,R),C(Nt,B),C(Nt,U)),!0===Yt.svgFilters&&(C(xt,L),C(Nt,B),C(Nt,U)),!0===Yt.mathMl&&(C(xt,F),C(Nt,q),C(Nt,U))),e.ADD_TAGS&&(xt===At&&(xt=k(xt)),C(xt,e.ADD_TAGS,mt)),e.ADD_ATTR&&(Nt===Ct&&(Nt=k(Nt)),C(Nt,e.ADD_ATTR,mt)),e.ADD_URI_SAFE_ATTR&&C(te,e.ADD_URI_SAFE_ATTR,mt),e.FORBID_CONTENTS&&(Jt===Qt&&(Jt=k(Jt)),C(Jt,e.FORBID_CONTENTS,mt)),Kt&&(xt["#text"]=!0),Wt&&C(xt,["html","head","body"]),xt.table&&(C(xt,["tbody"]),delete Pt.tbody),u&&u(e),ue=e)},de=C({},["mi","mo","mn","ms","mtext"]),ye=C({},["annotation-xml"]),me=C({},["title","style","font","a","script"]),be=C({},R);C(be,L),C(be,I);var ge=C({},F);C(ge,M);var ve=function(t){v(o.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=at}catch(e){t.remove()}}},_e=function(t,e){try{v(o.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){v(o.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!Nt[t])if(Ut||Vt)try{ve(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},Oe=function(t){var e,r;if(qt)t="<remove></remove>"+t;else{var n=S(t,/^[\r\n\t ]+/);r=n&&n[0]}"application/xhtml+xml"===yt&&ie===oe&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var o=it?it.createHTML(t):t;if(ie===oe)try{e=(new m).parseFromString(o,yt)}catch(t){}if(!e||!e.documentElement){e=st.createDocument(ie,"template",null);try{e.documentElement.innerHTML=ae?at:o}catch(t){}}var i=e.body||e.documentElement;return t&&r&&i.insertBefore(a.createTextNode(r),i.childNodes[0]||null),ie===oe?ft.call(e,Wt?"html":"body")[0]:Wt?e.documentElement:i},Se=function(t){return ct.call(t.ownerDocument||t,t,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT|p.SHOW_PROCESSING_INSTRUCTION|p.SHOW_CDATA_SECTION,null,!1)},Ee=function(t){return t instanceof y&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof d)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},we=function(e){return"object"===t(c)?e instanceof c:e&&"object"===t(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Te=function(t,e,r){dt[t]&&b(dt[t],(function(t){t.call(o,e,r,ue)}))},xe=function(t){var e;if(Te("beforeSanitizeElements",t,null),Ee(t))return ve(t),!0;if(x(/[\u0080-\uFFFF]/,t.nodeName))return ve(t),!0;var r=mt(t.nodeName);if(Te("uponSanitizeElement",t,{tagName:r,allowedTags:xt}),t.hasChildNodes()&&!we(t.firstElementChild)&&(!we(t.content)||!we(t.content.firstElementChild))&&x(/<[/\w]/g,t.innerHTML)&&x(/<[/\w]/g,t.textContent))return ve(t),!0;if("select"===r&&x(/<template/i,t.innerHTML))return ve(t),!0;if(7===t.nodeType)return ve(t),!0;if(Dt&&8===t.nodeType&&x(/<[/\w]/g,t.data))return ve(t),!0;if(!xt[r]||Pt[r]){if(!Pt[r]&&Ne(r)){if(kt.tagNameCheck instanceof RegExp&&x(kt.tagNameCheck,r))return!1;if(kt.tagNameCheck instanceof Function&&kt.tagNameCheck(r))return!1}if(Kt&&!Jt[r]){var n=nt(t)||t.parentNode,i=rt(t)||t.childNodes;if(i&&n)for(var a=i.length-1;a>=0;--a){var l=tt(i[a],!0);l.__removalCount=(t.__removalCount||0)+1,n.insertBefore(l,et(t))}}return ve(t),!0}return t instanceof f&&!function(t){var e=nt(t);e&&e.tagName||(e={namespaceURI:ie,tagName:"template"});var r=_(t.tagName),n=_(e.tagName);return!!le[t.namespaceURI]&&(t.namespaceURI===ne?e.namespaceURI===oe?"svg"===r:e.namespaceURI===re?"svg"===r&&("annotation-xml"===n||de[n]):Boolean(be[r]):t.namespaceURI===re?e.namespaceURI===oe?"math"===r:e.namespaceURI===ne?"math"===r&&ye[n]:Boolean(ge[r]):t.namespaceURI===oe?!(e.namespaceURI===ne&&!ye[n])&&!(e.namespaceURI===re&&!de[n])&&!ge[r]&&(me[r]||!be[r]):!("application/xhtml+xml"!==yt||!le[t.namespaceURI]))}(t)?(ve(t),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!x(/<\/no(script|embed|frames)/i,t.innerHTML)?(Mt&&3===t.nodeType&&(e=t.textContent,e=E(e,bt," "),e=E(e,gt," "),e=E(e,vt," "),t.textContent!==e&&(v(o.removed,{element:t.cloneNode()}),t.textContent=e)),Te("afterSanitizeElements",t,null),!1):(ve(t),!0)},Ae=function(t,e,r){if(Ht&&("id"===e||"name"===e)&&(r in a||r in fe))return!1;if(Lt&&!jt[e]&&x(_t,e));else if(Rt&&x(Ot,e));else if(!Nt[e]||jt[e]){if(!(Ne(t)&&(kt.tagNameCheck instanceof RegExp&&x(kt.tagNameCheck,t)||kt.tagNameCheck instanceof Function&&kt.tagNameCheck(t))&&(kt.attributeNameCheck instanceof RegExp&&x(kt.attributeNameCheck,e)||kt.attributeNameCheck instanceof Function&&kt.attributeNameCheck(e))||"is"===e&&kt.allowCustomizedBuiltInElements&&(kt.tagNameCheck instanceof RegExp&&x(kt.tagNameCheck,r)||kt.tagNameCheck instanceof Function&&kt.tagNameCheck(r))))return!1}else if(te[e]);else if(x(Tt,E(r,Et,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==w(r,"data:")||!Xt[t])if(It&&!x(St,E(r,Et,"")));else if(r)return!1;return!0},Ne=function(t){return"annotation-xml"!==t&&S(t,wt)},Ce=function(e){var r,n,i,a;Te("beforeSanitizeAttributes",e,null);var l=e.attributes;if(l){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Nt};for(a=l.length;a--;){var c=r=l[a],u=c.name,f=c.namespaceURI;if(n="value"===u?r.value:T(r.value),i=mt(u),s.attrName=i,s.attrValue=n,s.keepAttr=!0,s.forceKeepAttr=void 0,Te("uponSanitizeAttribute",e,s),n=s.attrValue,!s.forceKeepAttr&&(_e(u,e),s.keepAttr))if(Ft||!x(/\/>/i,n)){Mt&&(n=E(n,bt," "),n=E(n,gt," "),n=E(n,vt," "));var p=mt(e.nodeName);if(Ae(p,i,n))if(!Gt||"id"!==i&&"name"!==i||(_e(u,e),n="user-content-"+n),Dt&&x(/((--!?|])>)|<\/(style|title)/i,n))_e(u,e);else{if(it&&"object"===t(N)&&"function"==typeof N.getAttributeType)if(f);else switch(N.getAttributeType(p,i)){case"TrustedHTML":n=it.createHTML(n);break;case"TrustedScriptURL":n=it.createScriptURL(n)}try{f?e.setAttributeNS(f,u,n):e.setAttribute(u,n),Ee(e)?ve(e):g(o.removed)}catch(t){}}}else _e(u,e)}Te("afterSanitizeAttributes",e,null)}},ke=function t(e){var r,n=Se(e);for(Te("beforeSanitizeShadowDOM",e,null);r=n.nextNode();)Te("uponSanitizeShadowNode",r,null),xe(r)||(r.content instanceof l&&t(r.content),Ce(r));Te("afterSanitizeShadowDOM",e,null)};return o.sanitize=function(e){var n,a,s,u,f,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ae=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!we(e)){if("function"!=typeof e.toString)throw A("toString is not a function");if("string"!=typeof(e=e.toString()))throw A("dirty is not a string, aborting")}if(!o.isSupported){if("object"===t(r.toStaticHTML)||"function"==typeof r.toStaticHTML){if("string"==typeof e)return r.toStaticHTML(e);if(we(e))return r.toStaticHTML(e.outerHTML)}return e}if(Bt||he(p),o.removed=[],"string"==typeof e&&($t=!1),$t){if(e.nodeName){var h=mt(e.nodeName);if(!xt[h]||Pt[h])throw A("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)1===(a=(n=Oe("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?n=a:n.appendChild(a);else{if(!Ut&&!Mt&&!Wt&&-1===e.indexOf("<"))return it&&zt?it.createHTML(e):e;if(!(n=Oe(e)))return Ut?null:zt?at:""}n&&qt&&ve(n.firstChild);for(var d=Se($t?e:n);s=d.nextNode();)3===s.nodeType&&s===u||xe(s)||(s.content instanceof l&&ke(s.content),Ce(s),u=s);if(u=null,$t)return e;if(Ut){if(Vt)for(f=ut.call(n.ownerDocument);n.firstChild;)f.appendChild(n.firstChild);else f=n;return(Nt.shadowroot||Nt.shadowrootmod)&&(f=pt.call(i,f,!0)),f}var y=Wt?n.outerHTML:n.innerHTML;return Wt&&xt["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&x(Q,n.ownerDocument.doctype.name)&&(y="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+y),Mt&&(y=E(y,bt," "),y=E(y,gt," "),y=E(y,vt," ")),it&&zt?it.createHTML(y):y},o.setConfig=function(t){he(t),Bt=!0},o.clearConfig=function(){ue=null,Bt=!1},o.isValidAttribute=function(t,e,r){ue||he({});var n=mt(t),o=mt(e);return Ae(n,o,r)},o.addHook=function(t,e){"function"==typeof e&&(dt[t]=dt[t]||[],v(dt[t],e))},o.removeHook=function(t){if(dt[t])return g(dt[t])},o.removeHooks=function(t){dt[t]&&(dt[t]=[])},o.removeAllHooks=function(){dt={}},o}()}()},4939:function(t,e,r){"use strict";r.d(e,{l:function(){return o}});var n=r(5895);class o{getNormalizedRGBArray(){let t,e,r;if(this._sat){let n,i;i=this._lum<=.5?this._lum*(1+this._sat):this._lum+this._sat-this._lum*this._sat,n=2*this._lum-i,t=o.rgbFromHue(n,i,this._hue+1/3),e=o.rgbFromHue(n,i,this._hue),r=o.rgbFromHue(n,i,this._hue-1/3)}else t=this._lum,e=this._lum,r=this._lum;return t=Math.max(0,Math.min(1,t)),e=Math.max(0,Math.min(1,e)),r=Math.max(0,Math.min(1,r)),[t,e,r]}toRGB(){let t,e,r,o,i,a,l,s;return this._hue>240&&(this._hue=240),this._sat>240&&(this._sat=240),this._lum>240&&(this._lum=240),o=this._hue,a=this._sat,i=this._lum,s=i<=120?(i*(240+a)+120)/240:i+a-(i*a+120)/240,l=2*i-s,a?(t=this.value(l,s,o+80),e=this.value(l,s,o),r=this.value(l,s,o-80)):t=e=r=(255*i+120)/240,t>255&&(t=255),e>255&&(e=255),r>255&&(r=255),new n.N(Math.round(t),Math.round(e),Math.round(r))}msohslToRGB(){let t,e,r;const i=this._sat,a=this._lum,l=this._hue;if(i){let n,s;s=a<=.5?a*(1+i):a+i-a*i,n=2*a-s,t=o.rgbFromHue(n,s,l+1/3),e=o.rgbFromHue(n,s,l),r=o.rgbFromHue(n,s,l-1/3)}else t=e=r=a;return t=Math.max(Math.min(t,1),0),e=Math.max(Math.min(e,1),0),r=Math.max(Math.min(r,1),0),new n.N(Math.floor(255*t),Math.floor(255*e),Math.floor(255*r))}value(t,e,r){let n,o=r;return o>240?o-=240:o<0&&(o+=240),n=o<40?t+((e-t)*o+20)/40:o<120?e:o<160?t+((e-t)*(160-o)+20)/40:t,(255*n+120)/240}static fromArgb(t){const e=255&t,r=t>>8&255,n=t>>16&255,i=new o;return o.rgBtoHSL(e,r,n,i),i}static rgBtoHSL(t,e,r,n){let o,i,a,l,s;if(o=t>e&&t>r?t:e>r?e:r,i=t<e&&t<r?t:e<r?e:r,s=(240*(o+i)+255)/510,o===i)l=0,a=0;else{const n=o-i,c=o+i;let u,f;l=s<=120?(240*n+c/2)/c:(240*n+(510-c)/2)/(510-c),t===o?(u=e-r,f=0):e===o?(u=r-t,f=80):(u=t-e,f=160);let p=n/2;p&&(p-=1),u<0&&(p=-p),a=f+(40*u+p)/n,a<0?a+=240:a>=240&&(a-=240)}n._hue=a,n._sat=l,n._lum=s}static getLumDiff(t,e){const r=o.fromArgb(t),n=o.fromArgb(e);return r._lum-n._lum}static fromNormalizedRGBColor(t,e,r){const n=new o,i=Math.max(Math.max(t,e),r),a=Math.min(Math.min(t,e),r);if(n._lum=(i+a)/2,o.isEqual(i,a))n._sat=0,n._hue=-1;else{const l=i-a,s=i+a;n._lum<=.5?n._sat=l/s:n._sat=l/(2-s);const c=1/6*(i-t)/l,u=1/6*(i-e)/l,f=1/6*(i-r)/l;o.isEqual(t,i)?n._hue=f-u:o.isEqual(e,i)?n._hue=1/3+c-f:n._hue=2/3+u-c,n._hue<0&&(n._hue+=1),n._hue>1&&(n._hue-=1)}return n._hue=Math.max(0,Math.min(1,n._hue)),n._sat=Math.max(0,Math.min(1,n._sat)),n._lum=Math.max(0,Math.min(1,n._lum)),n}static rgbFromHue(t,e,r){let n=r;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*n*6:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}static isEqual(t,e){return Math.abs(t-e)<2.384186e-7}static msorgBtoHSL(t){const e=t.r/255,r=t.g/255,n=t.b/255;let i,a,l;const s=Math.max(Math.max(e,r),n),c=Math.min(Math.min(e,r),n);if(i=(s+c)/2,o.isEqual(s,c))a=0,l=-1;else{const t=s-c,u=s+c;a=i<=.5?t/u:t/(2-u);const f=1/6*(s-e)/t,p=1/6*(s-r)/t,h=1/6*(s-n)/t;l=o.isEqual(e,s)?h-p:o.isEqual(r,s)?1/3+f-h:2/3+p-f,l<0?l+=1:l>1&&(l-=1)}const u=new o;return u._hue=l,u._sat=a,u._lum=i,u}constructor(){this._lum=0,this._sat=0,this._hue=-1}}},5895:function(t,e,r){"use strict";r.d(e,{N:function(){return n},_:function(){return o}});class n{toHex(){return"#"+this.colorValToHexString(this.r)+this.colorValToHexString(this.g)+this.colorValToHexString(this.b)}msoTint(t){let e=this,o=t;if(!o)return e;if(o>=100)return new n(255,255,255);if(o<=-100)return new n(0,0,0);const i=!(o>0);o=Math.max(0,Math.min(Math.abs(o),100)),o=100-o;const a=r(4939).l.msorgBtoHSL(e);return i?a._lum*=o/100:(a._lum*=o/100,a._lum+=1-o/100),e=a.msohslToRGB(),e}colorValToHexString(t){if(t>255)throw Error("Color value cannot be greater than 255");const e=t.toString(16);return 1===e.length?"0"+e:e}static getColorFromIntForVOLText(t){return new n(t>>16&255,t>>8&255,255&t)}static getColorFromInt(t){return new n(255&t,t>>8&255,t>>16&255)}static isEqual(t,e){return Math.abs(t-e)<2.384186e-7}static getColorFromString(t){if(null==t||!t.length)return new n(0,0,0);if("#"!==t.charAt(0))return new n(0,0,0);const e=parseInt(t.replace("#","0x"),16);return new n((16711680&e)>>>16,(65280&e)>>>8,255&e)}constructor(t,e,r){this.r=t,this.g=e,this.b=r}}var o;!function(t){t[t.INVALID_COLOR=-2]="INVALID_COLOR",t[t.PH_COLOR=-1]="PH_COLOR",t[t.DARK_COLOR=0]="DARK_COLOR",t[t.LIGHT_COLOR=1]="LIGHT_COLOR",t[t.ACCENT1_COLOR=2]="ACCENT1_COLOR",t[t.ACCENT2_COLOR=3]="ACCENT2_COLOR",t[t.ACCENT3_COLOR=4]="ACCENT3_COLOR",t[t.ACCENT4_COLOR=5]="ACCENT4_COLOR",t[t.ACCENT5_COLOR=6]="ACCENT5_COLOR",t[t.ACCENT6_COLOR=7]="ACCENT6_COLOR",t[t.BACKGROUND_COLOR=8]="BACKGROUND_COLOR",t[t.LAST_OFFICE_COLOR=8]="LAST_OFFICE_COLOR",t[t.VARIATION1_COLOR=100]="VARIATION1_COLOR",t[t.VARIATION2_COLOR=101]="VARIATION2_COLOR",t[t.VARIATION3_COLOR=102]="VARIATION3_COLOR",t[t.VARIATION4_COLOR=103]="VARIATION4_COLOR",t[t.VARIATION5_COLOR=104]="VARIATION5_COLOR",t[t.VARIATION6_COLOR=105]="VARIATION6_COLOR",t[t.VARIATION7_COLOR=106]="VARIATION7_COLOR",t[t.LAST_VARIATION_COLOR=106]="LAST_VARIATION_COLOR",t[t.VARIATION1_COLOR2=200]="VARIATION1_COLOR2",t[t.VARIATION2_COLOR2=201]="VARIATION2_COLOR2",t[t.VARIATION3_COLOR2=202]="VARIATION3_COLOR2",t[t.VARIATION4_COLOR2=203]="VARIATION4_COLOR2",t[t.VARIATION5_COLOR2=204]="VARIATION5_COLOR2",t[t.VARIATION6_COLOR2=205]="VARIATION6_COLOR2",t[t.VARIATION7_COLOR2=206]="VARIATION7_COLOR2",t[t.LAST_VARIATION_COLOR2=206]="LAST_VARIATION_COLOR2",t[t.FALLBACK_COLOR=2]="FALLBACK_COLOR"}(o||(o={}))}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};!function(){"use strict";var t,e,o;r.r(n),r.d(n,{EditorConfigParams:function(){return bt},EditorId:function(){return mt},EventName:function(){return e},FormatType:function(){return t},GrowShrinkFontStep:function(){return o},RichTextEditorFactory:function(){return gt}}),function(t){t[t.Bold=0]="Bold",t[t.Italic=1]="Italic",t[t.Underline=2]="Underline",t[t.FontName=3]="FontName",t[t.FontSize=4]="FontSize",t[t.FontColor=5]="FontColor",t[t.HorizontalAlignment=6]="HorizontalAlignment"}(t||(t={})),function(t){t[t.EditorChange=0]="EditorChange",t[t.TextChange=1]="TextChange",t[t.SelectionChange=2]="SelectionChange"}(e||(e={})),function(t){t.Grow_One_Step="+1",t.Shrink_One_Step="-1"}(o||(o={}));class i{sendTraceTag(){}shipAssertTag(){}debugAssertTag(){}setCorrelationId(){}}const a=new class{setCorrelationId(t){this.externalLogger.setCorrelationId(t)}setLogger(t){this.externalLogger=t}sendTraceTag(t,e,r,n){this.externalLogger.sendTraceTag(t,e,r,n)}debugAssertTag(t,e,r,n){this.externalLogger.debugAssertTag(t,e,r,n)}shipAssertTag(t,e,r,n){this.externalLogger.shipAssertTag(t,e,r,n)}constructor(){this.externalLogger=new i}};var l,s;!function(t){t[t.msoulscat_ES_EWAJS=0]="msoulscat_ES_EWAJS",t[t.msoulscat_ES_EWAJSGrid=1]="msoulscat_ES_EWAJSGrid",t[t.msoulscat_ES_EWAJSChart=6]="msoulscat_ES_EWAJSChart",t[t.msoulscat_MSOSP_FileMenuCommands=202]="msoulscat_MSOSP_FileMenuCommands",t[t.msoulscat_MSOSP_AddInCommands=220]="msoulscat_MSOSP_AddInCommands",t[t.msoulscat_MSOSP_OTelJS=225]="msoulscat_MSOSP_OTelJS",t[t.msoulscat_MSOSP_OTelJSInWebWoker=227]="msoulscat_MSOSP_OTelJSInWebWoker",t[t.msoulscat_MSOSP_OTelJSWebWorkerPrototype=228]="msoulscat_MSOSP_OTelJSWebWorkerPrototype",t[t.msoulscat_Wac_WordViewer=301]="msoulscat_Wac_WordViewer",t[t.msoulscat_Wac_BrowserGeneral=306]="msoulscat_Wac_BrowserGeneral",t[t.msoulscat_Wac_TaskPane=320]="msoulscat_Wac_TaskPane",t[t.msoulscat_Wac_OneNoteGeneral=339]="msoulscat_Wac_OneNoteGeneral",t[t.msoulscat_Wac_Ribbon=340]="msoulscat_Wac_Ribbon",t[t.msoulscat_Wac_WacFeedback=356]="msoulscat_Wac_WacFeedback",t[t.msoulscat_Wac_WopiPendingApplication=379]="msoulscat_Wac_WopiPendingApplication",t[t.msoulscat_Wac_Telemetry=383]="msoulscat_Wac_Telemetry",t[t.msoulscat_Wac_WacCatchUpActivities=391]="msoulscat_Wac_WacCatchUpActivities",t[t.msoulscat_Wac_Dictation=394]="msoulscat_Wac_Dictation",t[t.msoulscat_Wac_OneNoteSync=395]="msoulscat_Wac_OneNoteSync",t[t.msoulscat_Wac_VisioApp=700]="msoulscat_Wac_VisioApp",t[t.msoulscat_OneNoteOnline_EditableCache=1601]="msoulscat_OneNoteOnline_EditableCache",t[t.msoulscat_Wac_PptAnimation=800]="msoulscat_Wac_PptAnimation",t[t.msoulscat_Wac_PptLive=833]="msoulscat_Wac_PptLive",t[t.msoulscat_Wac_PptMWeb=834]="msoulscat_Wac_PptMWeb",t[t.msoulscat_Wac_PptGc2General=835]="msoulscat_Wac_PptGc2General",t[t.msoulscat_Wac_PptGc2GraphicHost=836]="msoulscat_Wac_PptGc2GraphicHost",t[t.msoulscat_Wac_PptGc2Operation=837]="msoulscat_Wac_PptGc2Operation",t[t.msoulscat_Wac_PptGc2EditCanvas=852]="msoulscat_Wac_PptGc2EditCanvas",t[t.msoulscat_Wac_PptDataSync=844]="msoulscat_Wac_PptDataSync",t[t.msoulscat_Wac_PptFluidRuntime=848]="msoulscat_Wac_PptFluidRuntime",t[t.msoulscat_Wac_PptShape=815]="msoulscat_Wac_PptShape",t[t.msoulscat_Wac_PptSession=817]="msoulscat_Wac_PptSession",t[t.msoulscat_Wac_PptSlideshow=830]="msoulscat_Wac_PptSlideshow",t[t.msoulscat_Wac_PptView=822]="msoulscat_Wac_PptView",t[t.msoulscat_Wac_PptVideos=846]="msoulscat_Wac_PptVideos",t[t.msoulscat_Uci_Insights=1303]="msoulscat_Uci_Insights",t[t.msoulscat_Wac_VersionHistory=2300]="msoulscat_Wac_VersionHistory",t[t.msoulscat_Wac_WordPresence=302]="msoulscat_Wac_WordPresence",t[t.msoulscat_Wac_OAuth=3e3]="msoulscat_Wac_OAuth",t[t.msoulscat_Wac_WordVersionHistory=3005]="msoulscat_Wac_WordVersionHistory",t[t.msoulscat_Wac_LivePersonaCard=3006]="msoulscat_Wac_LivePersonaCard",t[t.msoulscat_Wac_CatchUpFlyout=3012]="msoulscat_Wac_CatchUpFlyout",t[t.msoulscat_Wac_WordDesigner=3016]="msoulscat_Wac_WordDesigner",t[t.msoulscat_Wac_ModernFontPicker=3021]="msoulscat_Wac_ModernFontPicker",t[t.msoulscat_Wac_UnifiedUiHost=3027]="msoulscat_Wac_UnifiedUiHost",t[t.msoulscat_Wac_EquationTools=3033]="msoulscat_Wac_EquationTools",t[t.msoulscat_Osf_Latency=1401]="msoulscat_Osf_Latency",t[t.msoulscat_Osf_Notification=1402]="msoulscat_Osf_Notification",t[t.msoulscat_Osf_Runtime=1403]="msoulscat_Osf_Runtime",t[t.msoulscat_Wac_AiMaker=3041]="msoulscat_Wac_AiMaker",t[t.msoulscat_Wac_AiRewrite=3043]="msoulscat_Wac_AiRewrite",t[t.msoulscat_Wac_AiInsert=3044]="msoulscat_Wac_AiInsert",t[t.msoulscat_Wac_AiSummarize=3047]="msoulscat_Wac_AiSummarize",t[t.msoulscat_Wac_CopilotCompose=3048]="msoulscat_Wac_CopilotCompose",t[t.msoulscat_Wac_Skittles=3049]="msoulscat_Wac_Skittles",t[t.msoulscat_Wac_CopilotChat=3050]="msoulscat_Wac_CopilotChat",t[t.msoulscat_Wac_Syntex=3051]="msoulscat_Wac_Syntex",t[t.msoulscat_Wac_WireGraph=3052]="msoulscat_Wac_WireGraph",t[t.msoulscat_Wac_CshCopilot=3053]="msoulscat_Wac_CshCopilot",t[t.msoulscat_Wac_CopilotProactiveSummary=3055]="msoulscat_Wac_CopilotProactiveSummary",t[t.msoulscat_Wac_CopilotProactiveShared=3056]="msoulscat_Wac_CopilotProactiveShared",t[t.msoulscat_Wac_CopilotCursor=3057]="msoulscat_Wac_CopilotCursor",t[t.msoulscat_Wac_WasmGeneral=3059]="msoulscat_Wac_WasmGeneral",t[t.msoulscat_Wac_WasmTextLayout=3060]="msoulscat_Wac_WasmTextLayout",t[t.msoulscat_Wac_WasmSmartArt=3061]="msoulscat_Wac_WasmSmartArt",t[t.msoulscat_Wac_WasmClient=3062]="msoulscat_Wac_WasmClient",t[t.msoulscat_Wac_WasmNative=3063]="msoulscat_Wac_WasmNative"}(l||(l={})),function(t){t[t.Error=10]="Error",t[t.Warning=15]="Warning",t[t.Important=20]="Important",t[t.Info=50]="Info",t[t.Verbose=100]="Verbose",t[t.Spam=200]="Spam"}(s||(s={}));var c=r(2206),u=r.n(c);const f=u().import("delta"),p=u().import("parchment"),h=p.Scope,d=p.Attributor.Attribute,y=p.Attributor.Style,m=(u().import("blots/block"),u().import("blots/container"),u().import("modules/history")),b=u().import("modules/clipboard");var g;!function(t){t.USER="user",t.API="api",t.SILENT="silent"}(g||(g={}));class v extends y{add(t,e){const r=this.value(t);let n=e;switch(e){case o.Grow_One_Step:n=J(r,!0);break;case o.Shrink_One_Step:n=J(r,!1)}return super.add(t,n)}value(t){const e=super.value(t);let r;if(-1!==e.indexOf("px")){const t=e.replace("px","");if(!t.match(this.decimalRegex))return this.defaultFontSize;r=V(Number(t)).toString()+"pt"}else if(-1!==e.indexOf("pt")){if(!e.replace("pt","").match(this.decimalRegex))return this.defaultFontSize;r=e}else r=this.defaultFontSize;return r}constructor(t,e,r={},n){super(t,e,r),this.decimalRegex=/^\d+(\.\d+)?$/,this.defaultFontSize=n}}class _ extends m{isRedoPossible(){return 0!==this.stack.redo.length}isUndoPossible(){return 0!==this.stack.undo.length}constructor(t,e){super(t,e)}}const O=class extends b{onPaste(t){t.preventDefault();const e=this.quill.getSelection();let r=(t.clipboardData||window.clipboardData).getData("text");if(H(r)||G(r))return;r=r.trim(),r=r.split("\r\n\r\n").join("\r\n");const n=(new f).retain(e.index).delete(e.length).insert(r);this.quill.updateContents(n,g.USER),this.quill.scrollIntoView(),setTimeout((()=>{this.quill.setSelection(n.length()-e.length,g.SILENT)}),0)}};class S extends Error{constructor(t){const e="QuillWrapperError:"+t;super(e),this.message=e,this.name="QuillWrapperError"}}const E=S;class w extends p.Embed{static create(t){const e=super.create(t.value);return e.innerText=t.value,e.contentEditable="false",e.setAttribute("id",t.id),a.sendTraceTag(571609885,l.msoulscat_Wac_VisioApp,s.Info,"TextField created successfully."),e}static value(t){return{value:t.childNodes[0].textContent,id:t.getAttribute("id")}}}let T,x;function A(t,e){return T&&T[t]?T[t]:e}w.blotName="textField",w.tagName="SPAN",w.className="ql-textfield";const N=function(){const e=new Map;return e.set(t.Bold,"bold"),e.set(t.Italic,"italic"),e.set(t.Underline,"underline"),e.set(t.FontName,"font"),e.set(t.FontSize,"size"),e.set(t.FontColor,"color"),e.set(t.HorizontalAlignment,"align"),e}(),C=function(){const t=new Map;return N.forEach(((e,r)=>{t.set(e,r)})),t}(),k=72,P=96,j=["b","strong","i","em","u"].join(","),R=["bold","italic","underline","font","size","color","align","textField","colorParams","colorFormula","isValidColor"],L=["spellcheck","autoComplete","autoCorrect","role","aria-label","data-gramm","contenteditable","tabindex","style","class"],I=["8pt","9pt","10pt","11pt","12pt","14pt","16pt","18pt","20pt","24pt","26pt","28pt","36pt","48pt","72pt"],F=I.map((t=>parseInt(t.slice(0,-2),10))),M=["colorParams","colorFormula","isValidColor","background"];function D(t){const e=C.get(t);if(null==e)throw a.sendTraceTag(571609886,l.msoulscat_Wac_VisioApp,s.Error,`internalFormatType is undefined for type: ${t}`),new E("Unsupported quill format type");return e}function W(t){const e=N.get(t);if(null==e)throw a.sendTraceTag(571609887,l.msoulscat_Wac_VisioApp,s.Error,`FormatType is undefined for type: ${t}`),new E("Unsupported format type");return e}function B(t){let e=t;return parseInt("0x"+t.substr(1,2),16)+parseInt("0x"+t.substr(3,2),16)+parseInt("0x"+t.substr(5,2),16)>700&&(e="#303030"),e}function q(t){return t/k}function U(t){return t/P}function V(t){return k*t/P}function z(t){return Math.round(t*k)}function H(t){return null==t}function G(t){return""===t}function K(t){let e=A(t,"false");return e=e.toLowerCase(),"true"===e}function $(t){var e;return 1===(null===(e=t.ops)||void 0===e?void 0:e.length)&&"\n"===t.ops[0].insert}function Y(t){return 0===Object.keys(t).length}function J(t,e){const r=I.indexOf(t);if(0===r&&!e||r===I.length-1&&e)return t;if(r<0){const r=parseInt(t.slice(0,-2),10),n=e?F.filter((t=>t>r)):F.filter((t=>t<r));return 0===n.length?t:e?n[0]+"pt":n[n.length-1]+"pt"}return e?I[r+1]:I[r-1]}function Q(t){return/^#[0-9A-F]{6}$/i.test(t)}var X,Z;!function(t){t[t.PlainText=0]="PlainText",t[t.TextField=1]="TextField",t[t.CharacterFormat=2]="CharacterFormat",t[t.ParagraphFormat=3]="ParagraphFormat",t[t.TabFormat=4]="TabFormat"}(X||(X={})),function(t){t[t.LEFT=0]="LEFT",t[t.CENTER=1]="CENTER",t[t.RIGHT=2]="RIGHT",t[t.JUSTIFY=3]="JUSTIFY"}(Z||(Z={}));class tt{get_type(){return X.PlainText}get_text(){return this.text}constructor(t){this.text=t}}class et{get_type(){return X.TextField}get_text(){return this.text}constructor(t){this.text=t}}class rt{get_type(){return X.CharacterFormat}get_font(){return this.charFormat.fontName}get_fontSize(){return this.charFormat.fontSize}get_fontColor(){return this.charFormat.fontColor}get_schemeColor(){return this.charFormat.schemeColor}get_msoTintPercent(){return this.charFormat.MSOTintPercent}get_isValidColor(){return this.charFormat.fValidColor}get_isBold(){return this.charFormat.fBold}get_isItalic(){return this.charFormat.fItalic}get_isUnderlined(){return this.charFormat.fUnderlined}get_style(){return this.charFormat.style}get_cellNamePrefix(){return this.charFormat.cellNamePrefix}get_colorFormula(){return this.charFormat.colorFormula}constructor(t){this.charFormat=t}}class nt{get_type(){return X.ParagraphFormat}get_horizAlign(){return this.horizontalAlign}get_cellNamePrefix(){return this.cellNamePrefix}constructor(t,e){this.horizontalAlign=Z.CENTER,this.horizontalAlign=t,this.cellNamePrefix=e}}class ot{reset(){this._currPos=0,this.characterStyle=null,this.paragraphStyle=null,this.text=null,this.textField=null}moveNext(){let t=!1;for(;this._currPos<this._tokens.length;){switch(this._tokens[this._currPos].get_type()){case X.CharacterFormat:this.characterStyle=this._tokens[this._currPos];break;case X.ParagraphFormat:this.paragraphStyle=this._tokens[this._currPos];break;case X.PlainText:this.text=this._tokens[this._currPos],this.textField=null,t=!0;break;case X.TextField:this.textField=this._tokens[this._currPos],this.text=null,t=!0}if(this._currPos=this._currPos+1,!0===t)return!0}return!1}constructor(t){this._tokens=[],this._currPos=0,this.characterStyle=null,this.paragraphStyle=null,this.text=null,this.textField=null,this._tokens=t}}const it="textfield_";class at{convert(t,e,r){let n,o=[],i=[];return t.ops?K("VisioWebMultiColorTextEnabled")&&$(t)?(n=H(r)||Y(r)?this.createCharToken(t.ops[0],e):this.convertQuillFormatToCharacterFormat(r),i.push(n),i.push(this.createTextToken(t.ops[0])),o.push(this.createParaToken(t.ops[0])),o=o.concat(i),i=[],a.sendTraceTag(512522309,l.msoulscat_Wac_VisioApp,s.Info,"quill delta to text tokens converted successfully."),o):(t.ops.forEach((t=>{if(t.insert)if("string"==typeof t.insert)if(K("VisioWebMultiColorTextEnabled")){if(t.insert.endsWith("\n")||(H(t.attributes)&&!H(n)||(n=this.createCharToken(t,e)),i.push(n),i.push(this.createTextToken(t))),t.insert.endsWith("\n")){const r=0===t.insert.replace(/\n/g,"").length;void 0!==n&&r||(n=this.createCharToken(t,e)),i.push(n),i.push(this.createTextToken(t)),o.push(this.createParaToken(t)),o=o.concat(i),i=[]}}else t.insert.endsWith("\n")&&void 0!==n||(n=this.createCharToken(t,e)),i.push(n),i.push(this.createTextToken(t)),t.insert.endsWith("\n")&&(o.push(this.createParaToken(t)),o=o.concat(i),i=[]);else i.push(this.createCharToken(t,e)),i.push(this.createTextToken(t))})),a.sendTraceTag(512522308,l.msoulscat_Wac_VisioApp,s.Info,"quill delta to text tokens converted successfully."),o):(a.sendTraceTag(571609875,l.msoulscat_Wac_VisioApp,s.Warning,"delta ops is empty"),o)}createParaToken(t){let e=Z.CENTER;if(t.insert&&t.attributes)switch(t.attributes.align){case"center":e=Z.CENTER;break;case"left":e=Z.LEFT;break;case"right":e=Z.RIGHT;break;case"justify":e=Z.JUSTIFY}return new nt(e,"")}createCharToken(e,r){var n,o,i,c,u;const f={};var p,h,d,y,m,b;if(f.fBold=!!(null===(n=e.attributes)||void 0===n?void 0:n.bold),f.fItalic=!!(null===(o=e.attributes)||void 0===o?void 0:o.italic),f.fUnderlined=!!(null===(i=e.attributes)||void 0===i?void 0:i.underline),K("VisioWebMultiColorTextEnabled")){if(void 0!==(null===(p=e.attributes)||void 0===p?void 0:p.isValidColor)&&(f.fValidColor=null===(m=e.attributes)||void 0===m?void 0:m.isValidColor),void 0!==(null===(h=e.attributes)||void 0===h?void 0:h.colorFormula)&&(f.colorFormula=null===(b=e.attributes)||void 0===b?void 0:b.colorFormula),void 0!==(null===(d=e.attributes)||void 0===d?void 0:d.colorParams)){var g;const t=null===(g=e.attributes)||void 0===g?void 0:g.colorParams.split("_");f.fontColor=t[0],"null"!==t[1]&&(f.schemeColor=t[1]),"null"!==t[2]&&(f.MSOTintPercent=t[2])}else if(void 0!==(null===(y=e.attributes)||void 0===y?void 0:y.color)){var v;f.fontColor=null===(v=e.attributes)||void 0===v?void 0:v.color}}else if(null!==r){a.sendTraceTag(571609876,l.msoulscat_Wac_VisioApp,s.Info,"recentColor is non-null");const t=r.split("_");f.fontColor=t[0],"null"!==t[1]&&"null"!==t[2]&&(a.sendTraceTag(571609877,l.msoulscat_Wac_VisioApp,s.Info,"recentColor colorParams are non-null"),f.schemeColor=t[1],f.MSOTintPercent=t[2])}f.fontName=this.defaultFormats.get(t.FontName),(null===(c=e.attributes)||void 0===c?void 0:c.font)&&(f.fontName=e.attributes.font);let _=this.defaultFormats.get(t.FontSize);return(null===(u=e.attributes)||void 0===u?void 0:u.size)&&(_=e.attributes.size),_&&(a.sendTraceTag(571609878,l.msoulscat_Wac_VisioApp,s.Info,`font size value: ${_}`),-1!==_.indexOf("pt")?(_=_.replace("pt",""),f.fontSize=q(Number(_))):-1!==_.indexOf("px")&&(_=_.replace("px",""),f.fontSize=U(Number(_)))),K("VisioWebSetTextSerializationIssueLoggingEnabled")&&a.sendTraceTag(509141571,l.msoulscat_Wac_VisioApp,s.Warning,"isFontSizeNull: "+H(f.fontSize).toString()+" isFontColorNull: "+H(f.fontColor).toString()+" quillDeltaToTextTokensConverter is color format hex: "+Q(f.fontColor).toString()),new rt(f)}createTextToken(t){if(t.insert){let e,r,n=!1;return navigator.userAgent.indexOf("Firefox/")>-1&&!K("VisioWebFirefoxWordWrapFixEnabled")&&(n=!0),t.insert.textField?(r=n?t.insert.textField.value.replace(/ /g,""):t.insert.textField.value,e=new et(r)):(r=n?t.insert.replace(/ /g,""):t.insert,e=new tt(r)),e}throw a.sendTraceTag(571609879,l.msoulscat_Wac_VisioApp,s.Error,"quill operation does not contain text"),new E("quill operation does not contain text")}convertQuillFormatToCharacterFormat(e){const r={};r.fBold=!!e.bold,r.fItalic=!!e.italic,r.fUnderlined=!!e.underline,r.fontName=e.font?e.font:this.defaultFormats.get(t.FontName);let n=e.size?e.size:this.defaultFormats.get(t.FontSize);if(n&&(-1!==n.indexOf("pt")?(n=n.replace("pt",""),r.fontSize=q(Number(n))):-1!==n.indexOf("px")&&(n=n.replace("px",""),r.fontSize=U(Number(n)))),void 0!==e.colorParams){const t=e.colorParams.split("_");r.fontColor=t[0],"null"!==t[1]&&(r.schemeColor=t[1]),"null"!==t[2]&&(r.MSOTintPercent=t[2])}else void 0!==e.color&&(r.fontColor=e.color);return K("VisioWebMultiColorTextEnabled")&&(void 0!==(null==e?void 0:e.isValidColor)&&(r.fValidColor=null==e?void 0:e.isValidColor),void 0!==(null==e?void 0:e.colorFormula)&&(r.colorFormula=null==e?void 0:e.colorFormula)),K("VisioWebSetTextSerializationIssueLoggingEnabled")&&a.sendTraceTag(509141506,l.msoulscat_Wac_VisioApp,s.Warning,"isFontSizeNull: "+H(r.fontSize).toString()+" isFontColorNull: "+H(r.fontColor).toString()),new rt(r)}constructor(t){this.defaultFormats=t}}class lt{convert(t,e){const r=new f,n=new ot(t);let o=null,i=null,c=null,u=!1;for(;n.moveNext();)if(o=n.paragraphStyle,i=n.characterStyle,null!=n.textField?(c=n.textField,u=!0):(c=n.text,u=!1),null!=c&&null!=c.get_text()){const t=this.getCharStyleAttributes(i),e=this.getParaStyleAttributes(o),n=c.get_text().split("\n");if(1===n.length)this.insertText(r,u,n[0],t);else{for(let o=0;o<n.length-1;o+=1)this.insertText(r,u,n[o],t),r.insert("\n",e);this.insertText(r,u,n[n.length-1],t)}}if(a.sendTraceTag(571609880,l.msoulscat_Wac_VisioApp,s.Info,"text tokens to quill delta converted successfully."),K("VisioWebMultiColorTextEnabled")&&$(r)){const r=this.getCharStyleAttributes(t[0]);for(const t in r)e[t]=r[t]}return r}getSmallestFontSizeInTextTokens(){return this.smallestFontSizeInTextToken}insertText(t,e,r,n){if(""!==r)if(e){const e=it+this.textFieldIndex;this.textFieldIndex=this.textFieldIndex+1,t.insert({textField:{value:r,id:e}},n)}else t.insert(r,n);else a.sendTraceTag(571609881,l.msoulscat_Wac_VisioApp,s.Warning,"text value is null in insertText")}getCharStyleAttributes(e){const r={};if(null==e)return a.sendTraceTag(571609882,l.msoulscat_Wac_VisioApp,s.Warning,"characterStyle is null in getCharStyleAttributes"),r;var n,o,i;e.get_style()?(r.bold=e.get_isBold(),r.italic=e.get_isItalic(),r.underline=e.get_isUnderlined()):(r.bold="true"===(null===(n=this.defaultFormats.get(t.Bold))||void 0===n?void 0:n.toLowerCase()),r.italic="true"===(null===(o=this.defaultFormats.get(t.Italic))||void 0===o?void 0:o.toLowerCase()),r.underline="true"===(null===(i=this.defaultFormats.get(t.Underline))||void 0===i?void 0:i.toLowerCase()));const c=e.get_font();H(c)||G(c)||(r.font=c);const u=e.get_fontSize();H(u)||(r.size=String(z(u))+"pt",K("VisioWebTextJumpDueToSmallFontSizeFixEnabled")&&(this.smallestFontSizeInTextToken=Math.min(this.smallestFontSizeInTextToken,z(u))));const f=e.get_fontColor();if(!H(f)&&!G(f)){K("VisioWebSetTextSerializationIssueLoggingEnabled")&&a.sendTraceTag(509108997,l.msoulscat_Wac_VisioApp,s.Warning,"textTokensToQuillDeltaConverter is color format hex: "+Q(f).toString());const t=B(f);r.color=t,r.colorParams=f+"_"+e.get_schemeColor()+"_"+e.get_msoTintPercent()}return K("VisioWebMultiColorTextEnabled")&&!H(e.get_colorFormula())&&(r.colorFormula=e.get_colorFormula()),r}getParaStyleAttributes(t){const e={};if(null==t)return a.sendTraceTag(571609883,l.msoulscat_Wac_VisioApp,s.Warning,"paragraphStyle is null in getParaStyleAttributes"),e;switch(t.get_horizAlign()){case Z.CENTER:e.align="center";break;case Z.LEFT:e.align="left";break;case Z.RIGHT:e.align="right";break;case Z.JUSTIFY:e.align="justify"}return e}getTextToAppendDelta(t,e){let r={},n={};const o=new ot(e);if(o.moveNext()){const t=o.characterStyle;r=this.getCharStyleAttributes(t);const e=o.paragraphStyle;n=this.getParaStyleAttributes(e)}const i=new f;return i.insert(t,r),n&&i.insert("\n",n),a.sendTraceTag(571609884,l.msoulscat_Wac_VisioApp,s.Info,"text to append delta completed."),i}constructor(t){this.textFieldIndex=0,this.smallestFontSizeInTextToken=Number.MAX_SAFE_INTEGER,this.defaultFormats=t}}var st=r(3765),ct=r.n(st);function ut(t){const e=window.getSelection(),r=null==e?void 0:e.getRangeAt(0);if(r&&r.startContainer===r.endContainer){var n,o;const i=e.toString(),a=function(t,e){let r=null,n=e,o=null;for(;n&&"RTEEditableDiv"!==n.id;){if("function"==typeof n.matches&&n.matches(j)&&(o=document.createElement(n.tagName),null===r?o.appendChild(t):o.appendChild(r),r=o),n.style&&n.style.cssText){const e=document.createElement("span");return null===r?e.appendChild(t):e.appendChild(r),e.setAttribute("style",n.style.cssText),n.getAttribute("data-colorparams")&&e.setAttribute("data-colorparams",n.getAttribute("data-colorparams")),K("VisioWebMultiColorTextEnabled")&&n.getAttribute("data-colorformula")&&e.setAttribute("data-colorformula",n.getAttribute("data-colorformula")),e.outerHTML}n=n.parentElement}return""}(document.createTextNode(i),r.commonAncestorContainer);null===(n=t.clipboardData)||void 0===n||n.setData("text/plain",i),null===(o=t.clipboardData)||void 0===o||o.setData("text/html",a),"cut"===t.type&&(null==e||e.deleteFromDocument()),t.preventDefault()}}var ft=r(5895);const pt=["rgba","(",")"," "],ht=new Map([["aliceblue","#f0f8ff"],["antiquewhite","#faebd7"],["aqua","#00ffff"],["aquamarine","#7fffd4"],["azure","#f0ffff"],["beige","#f5f5dc"],["bisque","#ffe4c4"],["black","#000000"],["blanchedalmond","#ffebcd"],["blue","#0000ff"],["blueviolet","#8a2be2"],["brown","#a52a2a"],["burlywood","#deb887"],["cadetblue","#5f9ea0"],["chartreuse","#7fff00"],["chocolate","#d2691e"],["coral","#ff7f50"],["cornflowerblue","#6495ed"],["cornsilk","#fff8dc"],["crimson","#dc143c"],["cyan","#00ffff"],["darkblue","#00008b"],["darkcyan","#008b8b"],["darkgoldenrod","#b8860b"],["darkgray","#a9a9a9"],["darkgreen","#006400"],["darkkhaki","#bdb76b"],["darkmagenta","#8b008b"],["darkolivegreen","#556b2f"],["darkorange","#ff8c00"],["darkorchid","#9932cc"],["darkred","#8b0000"],["darksalmon","#e9967a"],["darkseagreen","#8fbc8f"],["darkslateblue","#483d8b"],["darkslategray","#2f4f4f"],["darkturquoise","#00ced1"],["darkviolet","#9400d3"],["deeppink","#ff1493"],["deepskyblue","#00bfff"],["dimgray","#696969"],["dodgerblue","#1e90ff"],["firebrick","#b22222"],["floralwhite","#fffaf0"],["forestgreen","#228b22"],["fuchsia","#ff00ff"],["gainsboro","#dcdcdc"],["ghostwhite","#f8f8ff"],["gold","#ffd700"],["goldenrod","#daa520"],["gray","#808080"],["green","#008000"],["greenyellow","#adff2f"],["honeydew","#f0fff0"],["hotpink","#ff69b4"],["indianred","#cd5c5c"],["indigo","#4b0082"],["ivory","#fffff0"],["khaki","#f0e68c"],["lavender","#e6e6fa"],["lavenderblush","#fff0f5"],["lawngreen","#7cfc00"],["lemonchiffon","#fffacd"],["lightblue","#add8e6"],["lightcoral","#f08080"],["lightcyan","#e0ffff"],["lightgoldenrodyellow","#fafad2"],["lightgrey","#d3d3d3"],["lightgreen","#90ee90"],["lightpink","#ffb6c1"],["lightsalmon","#ffa07a"],["lightseagreen","#20b2aa"],["lightskyblue","#87cefa"],["lightslategray","#778899"],["lightsteelblue","#b0c4de"],["lightyellow","#ffffe0"],["lime","#00ff00"],["limegreen","#32cd32"],["linen","#faf0e6"],["magenta","#ff00ff"],["maroon","#800000"],["mediumaquamarine","#66cdaa"],["mediumblue","#0000cd"],["mediumorchid","#ba55d3"],["mediumpurple","#9370d8"],["mediumseagreen","#3cb371"],["mediumslateblue","#7b68ee"],["mediumspringgreen","#00fa9a"],["mediumturquoise","#48d1cc"],["mediumvioletred","#c71585"],["midnightblue","#191970"],["mintcream","#f5fffa"],["mistyrose","#ffe4e1"],["moccasin","#ffe4b5"],["navajowhite","#ffdead"],["navy","#000080"],["oldlace","#fdf5e6"],["olive","#808000"],["olivedrab","#6b8e23"],["orange","#ffa500"],["orangered","#ff4500"],["orchid","#da70d6"],["palegoldenrod","#eee8aa"],["palegreen","#98fb98"],["paleturquoise","#afeeee"],["palevioletred","#d87093"],["papayawhip","#ffefd5"],["peachpuff","#ffdab9"],["peru","#cd853f"],["pink","#ffc0cb"],["plum","#dda0dd"],["powderblue","#b0e0e6"],["purple","#800080"],["rebeccapurple","#663399"],["red","#ff0000"],["rosybrown","#bc8f8f"],["royalblue","#4169e1"],["saddlebrown","#8b4513"],["salmon","#fa8072"],["sandybrown","#f4a460"],["seagreen","#2e8b57"],["seashell","#fff5ee"],["sienna","#a0522d"],["silver","#c0c0c0"],["skyblue","#87ceeb"],["slateblue","#6a5acd"],["slategray","#708090"],["snow","#fffafa"],["springgreen","#00ff7f"],["steelblue","#4682b4"],["tan","#d2b48c"],["teal","#008080"],["thistle","#d8bfd8"],["tomato","#ff6347"],["turquoise","#40e0d0"],["violet","#ee82ee"],["wheat","#f5deb3"],["white","#ffffff"],["whitesmoke","#f5f5f5"],["yellow","#ffff00"],["yellowgreen","#9acd32"]]);const dt={tab:{key:9,handler:()=>!1},customListBackspace:{key:"backspace",format:["custom-list"],handler:(t,e)=>0!==e.offset||((void 0).quill.format("custom-list",!1,g.USER),!1)},customListEnter:{key:"Enter",format:["custom-list"],handler:(t,e)=>!0!==e.empty||((void 0).quill.format("custom-list",!1,g.USER),!1)}};class yt{getDefaultFormatValues(){const e=new Map;return e.set(t.Bold,String(this.isDefaultBold)),e.set(t.Italic,String(this.isDefaultItalic)),e.set(t.Underline,String(this.isDefaultUnderlined)),e.set(t.FontName,this.defaultFontName),e.set(t.FontSize,this.defaultFontSize),e.set(t.FontColor,this.defaultFontColor),e.set(t.HorizontalAlignment,"center"),e}initEditorElement(){this.editorElement.style.color=this.defaultFontDisplayColor,this.editorElement.style.fontFamily=this.defaultFontName,this.editorElement.style.fontSize=this.defaultFontSize,this.editorElement.tabIndex=0,this.editorElement.setAttribute("spellcheck","false"),this.editorElement.setAttribute("autoComplete","false"),this.editorElement.setAttribute("autoCorrect","off"),this.editorElement.setAttribute("role","textbox"),this.editorElement.setAttribute("aria-label","Editing Area"),K("VisioWebBpmnShapeCursorFixEnabled")&&(this.editorElement.style.minWidth="1px")}setTextAtEditorInitialization(e){if(K("VisioWebRTEParaAlignmentFixEnabled")&&this.quill.format(W(t.HorizontalAlignment),"center"),K("VisioWebMultiColorTextEnabled")&&this.quill.format("colorFormula",this.defaultColorFormula),e.textToAppend)if(e.textTokens){const t=new lt(this.getDefaultFormatValues()),r=t.getTextToAppendDelta(e.textToAppend,e.textTokens);K("VisioWebTextJumpDueToSmallFontSizeFixEnabled")&&(this.smallestFontSizeInEditor=Math.min(this.smallestFontSizeInEditor,t.getSmallestFontSizeInTextTokens()),this.editorElement.style.fontSize=this.smallestFontSizeInEditor+"pt"),this.quill.setContents(r)}else this.quill.setText(e.textToAppend);else e.textTokens&&this.setContent(e.textTokens);return a.sendTraceTag(571609920,l.msoulscat_Wac_VisioApp,s.Info,"setTextAtEditorInitialization completed successfully."),!0}getEditorElement(){return this.editorElement}setVerticalAlignToTop(){const t=this.getEditorElement().style.paddingTop,e=H(t)?0:parseFloat(t.replace("px","")),r=this.getEditorElement().style.paddingBottom,n=e+(H(r)?0:parseFloat(r.replace("px","")));this.editorElement.style.minHeight="calc(100% - "+n+"px)",this.editorElement.style.display="grid",this.editorElement.style.alignContent="baseline",this.editorElement.style.gridTemplateColumns="100%"}setVerticalAlignToMiddle(){const t=this.getEditorElement().style.paddingTop,e=H(t)?0:parseFloat(t.replace("px","")),r=this.getEditorElement().style.paddingBottom,n=e+(H(r)?0:parseFloat(r.replace("px","")));this.editorElement.style.minHeight="calc(100% - "+n+"px)",this.editorElement.style.display="grid",this.editorElement.style.alignContent="center",this.editorElement.style.gridTemplateColumns="100%"}setVerticalAlignToBottom(){const t=this.getEditorElement().style.paddingTop,e=H(t)?0:parseFloat(t.replace("px","")),r=this.getEditorElement().style.paddingBottom,n=e+(H(r)?0:parseFloat(r.replace("px","")));this.editorElement.style.minHeight="calc(100% - "+n+"px)",this.editorElement.style.display="grid",this.editorElement.style.alignContent="end",this.editorElement.style.gridTemplateColumns="100%"}removeMinHeightAndGridStylingProperty(){this.editorElement.style.removeProperty("min-height"),this.editorElement.style.removeProperty("display"),this.editorElement.style.removeProperty("align-content"),this.editorElement.style.removeProperty("grid-template-columns")}getContent(){const t=this.quill.getContents(),e=new at(this.getDefaultFormatValues()),r=this.quill.getFormat(0,0);return e.convert(t,this.recentColor,r)}setContent(t){const e=new lt(this.getDefaultFormatValues()),r=e.convert(t,this.attributesMap);return K("VisioWebTextJumpDueToSmallFontSizeFixEnabled")&&(this.smallestFontSizeInEditor=Math.min(this.smallestFontSizeInEditor,e.getSmallestFontSizeInTextTokens()),this.editorElement.style.fontSize=this.smallestFontSizeInEditor+"pt"),this.quill.setContents(r),!0}getTextFieldIndexes(){return function(t){var e;const r=[];return null===(e=t.ops)||void 0===e||e.forEach((t=>{var e,n;if(null===(n=t.insert)||void 0===n||null===(e=n.textField)||void 0===e?void 0:e.id){const e=t.insert.textField.id.replace(it,"");r.push(e)}})),r}(this.quill.getContents())}updateContent(t){}getHtmlData(){return this.quill.root.innerHTML}getEditorDivClone(){const t=this.quill.root.cloneNode(!0);return function(t,e){for(const r of e)t.removeAttribute(r)}(t,L),t.id="RTELocalLieDIV",K("VisioWebTextJumpDueToSmallFontSizeFixEnabled")&&(t.style.fontSize=this.smallestFontSizeInEditor+"pt"),t}getFormats(){const t=this.getDefaultFormatValues();if(this.selectedText){let e;if(e=K("VisioWebFixForRibbonStyleOnEmptyTextEditorEnabled")&&$(this.quill.getContents())?this.quill.getFormat(0,0):this.quill.getFormat(this.selectedText.index,this.selectedText.length),e)for(const r in e){const n=e[r].toString().split(",",1);if(this.isValidKeyForFormating(r)&&n.length>0&&n[0]){const e=D(r);if(-1!==n[0].indexOf("px")){const t=V(Number(n[0].replace("px","")));n[0]=t.toString()+"pt"}t.set(e,n[0])}}}return t}isValidKeyForFormating(t){return K("VisioWebMultiColorTextEnabled")?!H(t)&&!M.includes(t):"colorParams"!==t}setFormat(e,r){const n=W(e);if(this.selectedText)if(a.sendTraceTag(571246426,l.msoulscat_Wac_VisioApp,s.Warning,`selectedText as bool:${!!this.selectedText}`),K("VisioWebQuillFixForIncorrectSelectionIndex"))try{this.quill.setSelection(this.selectedText.index,this.selectedText.length)}catch(t){return a.sendTraceTag(527966601,l.msoulscat_Wac_VisioApp,s.Error,`[VisioWebRTE] Receiving incorrect values for selection index -  QuillHasFocus:${this.quill.hasFocus()},\n            Selection index: ${this.selectedText.index}, selection length: ${this.selectedText.length}, quill length: ${this.quill.getLength()}, error: ${t.message}`),!1}else this.quill.setSelection(this.selectedText.index,this.selectedText.length);else a.sendTraceTag(571475929,l.msoulscat_Wac_VisioApp,s.Warning,`selectedText is null, QuillHasFocus:${this.quill.hasFocus()}`),this.focus(),this.selectedText=this.quill.getSelection();if(e===t.Bold||e===t.Italic||e===t.Underline)this.quill.format(n,Boolean(JSON.parse(r)));else if(e===t.FontColor){const t=r.split("__");if(K("VisioWebMultiColorTextEnabled"))this.selectedText.length!==this.quill.getLength()-1&&this.featureUsageLogger.LogFeatureUsage("MultiColor Text"),this.quill.format(n,t[0]),this.quill.format("colorParams",t[1]),this.quill.format("isValidColor",!0),this.quill.format("colorFormula",!1);else{const e=this.quill.getLength();e>1?(this.quill.formatText(0,e,"color",t[0]),this.quill.formatText(0,e,"colorParams",t[1])):(this.quill.format(n,t[0]),this.quill.format("colorParams",t[1])),this.recentColor=t[1]}}else e===t.FontSize&&K("VisioWebTextJumpDueToSmallFontSizeFixEnabled")&&(this.smallestFontSizeInEditor=Math.min(this.smallestFontSizeInEditor,parseInt(r.slice(0,-2),10)),this.editorElement.style.fontSize=this.smallestFontSizeInEditor+"pt"),this.quill.format(n,r);return!0}growShrinkFontSize(t){if(this.featureUsageLogger.LogFeatureUsage("QuickFontResize"),K("VisioWebQuickFontResizeA11yFixEnabled")){if((!this.selectedText||this.selectedText&&-1===this.selectedText.index)&&(this.focus(),this.selectedText=this.quill.getSelection()),!this.selectedText||this.selectedText&&H(this.selectedText.index))return void a.sendTraceTag(508651278,l.msoulscat_Wac_VisioApp,s.Error,"Visio richTextEditor.growShrinkFontSize: selected text is null")}else this.selectedText&&-1===this.selectedText.index&&(this.selectedText=this.quill.getSelection());this.quill.setSelection(this.selectedText.index,this.selectedText.length);const e=t?o.Grow_One_Step:o.Shrink_One_Step;this.quill.format("size",e),K("VisioWebTextJumpDueToSmallFontSizeFixEnabled")&&(this.smallestFontSizeInEditor=Math.min(this.smallestFontSizeInEditor,8),this.editorElement.style.fontSize=this.smallestFontSizeInEditor+"pt"),a.sendTraceTag(512503818,l.msoulscat_Wac_VisioApp,s.Info,"growShrinkFontSize completed successfully")}getSelectedTextLength(){const t=this.quill.getSelection();return H(t)?-1:t.length}insertHtmlAtCursor(t){if(this.quill.hasFocus()){const e=this.quill.getSelection(),r=ct().sanitize(t);a.sendTraceTag(512278848,l.msoulscat_Wac_VisioApp,s.Warning,`removed tags length: ${ct().removed.Length}`),this.quill.deleteText(e.index,e.length,g.USER),this.quill.clipboard.dangerouslyPasteHTML(e.index,r)}}insertTextAtCursor(t){if(this.quill.hasFocus()){const e=this.quill.getSelection();this.quill.deleteText(e.index,e.length,g.USER),this.quill.insertText(e.index,t)}}applyDefaultColor(t,e,r){t.attributes&&(K("VisioWebTextFormatLocalLieEnabled")&&r?(t.attributes.colorFormula=e.colorFormula,t.attributes.color=e.color,t.attributes.isValidColor=this.defaultIsValidColor):(t.attributes.colorFormula=this.defaultColorFormula,t.attributes.isValidColor=this.defaultIsValidColor))}getBaseThemeColorFromSchemeIndex(t){let e=null;switch(t){case ft._.LIGHT_COLOR:e=this.colors[2];break;case ft._.DARK_COLOR:e=this.colors[3];break;case ft._.ACCENT1_COLOR:e=this.colors[4];break;case ft._.ACCENT2_COLOR:e=this.colors[5];break;case ft._.ACCENT3_COLOR:e=this.colors[6];break;case ft._.ACCENT4_COLOR:e=this.colors[7];break;case ft._.ACCENT5_COLOR:e=this.colors[8];break;case ft._.ACCENT6_COLOR:e=this.colors[9]}return e?new ft.N(e.r,e.g,e.b):null}focus(){this.quill.focus()}blur(){this.quill.blur()}undo(){this.quill.history.undo()}redo(){this.quill.history.redo()}isUndoPossible(){return this.quill.history.isUndoPossible()}isRedoPossible(){return this.quill.history.isRedoPossible()}setPreviewMode(t){this.isPreviewMode=t}setPreviewFormat(t,e){const r={};r[t]=e,this.selectedText&&this.selectedText.index>=0&&this.quill.formatText(this.selectedText.index,this.selectedText.length,r,g.USER)}addEventListener(t,e){if(e)if(this.callbacksMap.has(t)){var r;null===(r=this.callbacksMap.get(t))||void 0===r||r.push(e)}else{const r=[];r.push(e),this.callbacksMap.set(t,r)}}removeEventListener(t,e){const r=this.callbacksMap.get(t);if(r){const t=r.indexOf(e,0);t>-1&&r.splice(t,1)}}constructor(t){this.selectedText={},this.colors=[],this.defaultIsValidColor=!1,this.defaultColorFormula="THEMEVAL()",this.isPreviewMode=!1,this.smallestFontSizeInEditor=Number.MAX_SAFE_INTEGER,this.textChangeHandler=(t,r,n)=>{if(K("VisioWebTextLivePreviewEnabled")&&this.isPreviewMode)return;var o;if(this.selectedText=this.quill.getSelection(),K("VisioWebMultiColorTextEnabled")&&function(t,e){var r;return 1===e&&1===(null===(r=t.ops)||void 0===r?void 0:r.length)&&!!t.ops[0].delete}(t,this.quill.getLength())&&(null==r||null===(o=r.ops)||void 0===o?void 0:o.length)){const t=r.ops[0].attributes;for(const e in t)this.quill.format(e,t[e])}const i={textDelta:t,oldText:r,source:n},a=this.callbacksMap.get(e.TextChange);a&&a.forEach((t=>t(i)))},this.selectionChangeHandler=(t,r,n)=>{if((!K("VisioWebTextLivePreviewEnabled")||!this.isPreviewMode)&&t){this.selectedText=t;const o={range:t,oldRange:r,source:n},i=this.callbacksMap.get(e.SelectionChange);i&&i.forEach((t=>t(o)))}},this.onKeyPress=t=>{if(0!==t.which&&!t.altKey&&!t.ctrlKey&&!t.metaKey){const t=this.quill.getSelection();if(t&&t.length>1){if(this.quill.getLeaf){const e=this.quill.getLeaf(t.index+1),r=this.quill.getLeaf(t.index+t.length);if(e[0]===r[0]||e[1]>1)return}else a.sendTraceTag(523851608,l.msoulscat_Wac_VisioApp,s.Error,"Visio richTextEditor.onKeyPress: getLeaf is undefined");const{index:e,length:r}=t;this.quill.deleteText(e,r,g.USER)}}},this.spanClipboardMatcher=(t,e)=>{var r;const n=new f;let o=!1;const i=this.quill.getFormat(0,0),c={};var u,p;return i&&(c.color=i.color?i.color:"#000000",c.colorParams=i.colorParams?i.colorParams:"",c.colorFormula=i.colorFormula?i.colorFormula:"RGB(0,0,0)"),""!==(null==t||null===(r=t.style)||void 0===r?void 0:r.cssText)?null===(u=e.ops)||void 0===u||u.forEach((t=>{if(t.insert){if(t.attributes&&t.attributes.colorParams){const e=t.attributes.colorParams.split("_"),r=e[0],n=parseInt(r.replace("#","0x"),16),o=(16711680&n)>>>16,i=(65280&n)>>>8,a=255&n;let l=new ft.N(o,i,a);const s=Number.parseInt(e[1],10);let c=null;isNaN(s)||(c=this.getBaseThemeColorFromSchemeIndex(s));const u=Number.parseFloat(e[2]);isNaN(u)||(l=c?c.msoTint(u):l.msoTint(u)),t.attributes.color=B(l.toHex());const f=e[1]?e[1]:"null",p=e[2]?e[2]:"null";t.attributes.colorParams=l.toHex()+"_"+f+"_"+p}if(K("VisioWebMultiColorTextEnabled")&&t.attributes)if(t.attributes.colorFormula&&t.attributes.color)t.attributes.isValidColor=!0;else if(t.attributes.colorFormula)t.attributes.isValidColor=!1;else if(t.attributes.colorParams)t.attributes.isValidColor=!0;else if(t.attributes.color){let e=t.attributes.color;e=e.toLowerCase().trim().replace(/\s/g,""),Q(t.attributes.color)?t.attributes.isValidColor=!0:ht.has(e)?(t.attributes.isValidColor=!0,t.attributes.color=ht.get(e)):K("VisioWebRgbaColorTextEnabled")&&"rgba"===t.attributes.color.substring(0,4)?(t.attributes.isValidColor=!0,t.attributes.color=function(t){let e=t;pt.forEach((t=>{e=e.replace(t,"")}));const r=e.split(",");return function(t,e,r,n){const o=t/255,i=e/255,a=r/255;return new ft.N(Math.trunc(255*(1-n+n*o)),Math.trunc(255*(1-n+n*i)),Math.trunc(255*(1-n+n*a)))}(parseFloat(r[0]),parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3])).toHex()}(t.attributes.color)):(this.applyDefaultColor(t,c,o),a.sendTraceTag(508937295,l.msoulscat_Wac_VisioApp,s.Warning,"color is not hex, color-name, rgba for paste text"))}else this.applyDefaultColor(t,c,o),a.sendTraceTag(508937294,l.msoulscat_Wac_VisioApp,s.Warning,"color is not present for paste text");else K("VisioWebTextFormatLocalLieEnabled")&&(t.attributes||(o=!0,n.insert(t.insert,c))),a.sendTraceTag(507585635,l.msoulscat_Wac_VisioApp,s.Warning,"Attribute is not present for formating")}})):K("VisioWebTextFormatLocalLieEnabled")&&(null===(p=e.ops)||void 0===p||p.forEach((t=>{t.insert&&(t.attributes?this.applyDefaultColor(t,c,o):(n.insert(t.insert,c),o=!0))}))),o?n:e},this.paragraphClipboardMatcher=(t,e)=>{var r;return null===(r=e.ops)||void 0===r||r.forEach((t=>{t.insert&&t.insert.endsWith("\n")&&t.attributes&&!t.attributes.align&&(t.attributes.align="left")})),e},this.selectedText={index:-1,length:-1},this.callbacksMap=new Map,this.defaultFontColor=t.defaultFontColor,this.defaultFontDisplayColor=B(t.defaultFontColor),this.defaultFontName=t.defaultFontName,this.defaultFontSize=t.defaultFontSize,this.isDefaultBold=t.isDefaultBold,this.isDefaultItalic=t.isDefaultItalic,this.isDefaultUnderlined=t.isDefaultUnderlined,this.featureUsageLogger=t.featureUsageLogger,K("VisioWebTextCopyPasteImprovementsEnabled")&&(this.colors=t.colors),K("VisioWebTextJumpDueToSmallFontSizeFixEnabled")&&(this.smallestFontSizeInEditor=parseInt(t.defaultFontSize.slice(0,-2),10)),this.recentColor=null,this.attributesMap={};const r=document.getElementById(t.containerElementId);if(!r)throw a.sendTraceTag(571609889,l.msoulscat_Wac_VisioApp,s.Error,`Invalid elementId: ${t.containerElementId} passed to initialize quill editor`),new E(`Invalid elementId: ${t.containerElementId} passed to initialize quill editor`);!function(t){const e=new y("align","text-align",{scope:h.BLOCK});u().register(e,!0);const r=new v("size","font-size",{scope:h.INLINE},t.defaultFontSize);u().register(r,!0);const n=u().import("formats/font");n.whitelist=t.supportedFonts,u().register(n,!0),u().register(w),u().register("modules/history",_,!0);const o=new d("colorParams","data-colorparams",{scope:h.INLINE});if(u().register(o,!0),K("VisioWebMultiColorTextEnabled")){const t=new d("colorFormula","data-colorformula",{scope:h.INLINE});u().register(t,!0);const e=new d("isValidColor","data-isvalidcolor",{scope:h.INLINE});u().register(e,!0)}(function(){const t=navigator.userAgent;return t.indexOf("MSIE ")>-1||t.indexOf("Trident/")>-1})()&&u().register("modules/clipboard",O,!0),a.sendTraceTag(571609888,l.msoulscat_Wac_VisioApp,s.Info,"Modules registered successfully for Quill")}(t);const n={formats:R};if(K("VisioWebTabInQuillDisabled")&&(n.modules={keyboard:{bindings:dt}}),this.quill=new(u())(`#${t.containerElementId}`,n),this.editorElement=r.getElementsByClassName("ql-editor").item(0),!(this.editorElement&&this.editorElement instanceof HTMLElement))throw a.sendTraceTag(571609890,l.msoulscat_Wac_VisioApp,s.Error,"Couldn't initialized Quill editor"),new E("Couldn't initialized Quill editor");if(K("VisioWebQuillFocusLossFixEnabled")&&this.editorElement.addEventListener("keypress",this.onKeyPress),K("VisioWebTextCopyPasteImprovementsEnabled")&&(this.editorElement.addEventListener("copy",ut),this.editorElement.addEventListener("cut",ut)),this.setTextAtEditorInitialization(t),this.quill.history.clear(),this.initEditorElement(),K("VisioWebTextCopyPasteImprovementsEnabled")&&(this.quill.clipboard.addMatcher("span",this.spanClipboardMatcher),this.quill.clipboard.addMatcher("p",this.paragraphClipboardMatcher),this.quill.clipboard.addMatcher("strong",this.spanClipboardMatcher),this.quill.clipboard.addMatcher("b",this.spanClipboardMatcher),this.quill.clipboard.addMatcher("i",this.spanClipboardMatcher),this.quill.clipboard.addMatcher("em",this.spanClipboardMatcher),this.quill.clipboard.addMatcher("u",this.spanClipboardMatcher)),this.quill.on("text-change",this.textChangeHandler),this.quill.on("selection-change",this.selectionChangeHandler),K("VisioWebMultiColorTextEnabled")&&!Y(this.attributesMap)){for(const t in this.attributesMap)this.quill.format(t,this.attributesMap[t]);this.attributesMap={}}const o=this.quill.getLength();t.textToAppend?this.quill.setSelection(o,0):this.quill.setSelection(0,o),a.sendTraceTag(571609891,l.msoulscat_Wac_VisioApp,s.Info,"Initialized Quill editor successfully.")}}var mt;!function(t){t[t.Quill=0]="Quill"}(mt||(mt={}));class bt{constructor(){this.isDefaultBold=!1,this.isDefaultItalic=!1,this.isDefaultUnderlined=!1}}class gt{getRichTextEditor(t){return null!=t&&t.editorId===mt.Quill?new yt(t):null}initializeLogger(t){t&&function(t){if(!t)throw new Error("The 'logger' argument is missing");a.setLogger(t)}(t)}initializeAppSettings(t){!function(t){T=t;try{x=JSON.parse(A("DisabledChangeGates","{}"))}catch(t){x={}}}(t)}}}(),visioRichTextEditor=n}();
//# sourceMappingURL=visioRichTextEditor.min.js.map